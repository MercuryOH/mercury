{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{Lfp7:function(e,t,n){\"use strict\";n.r(t);var i=n(\"1OyB\"),s=n(\"vuIU\"),o=n(\"JX7q\"),r=n(\"Ji7U\"),a=n(\"md7G\"),c=n(\"foSv\"),u=n(\"rePB\"),l=n(\"q1tI\"),h=n.n(l),d=n(\"dta6\"),f=n(\"5HNm\"),p=h.a.createElement;function v(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}n(\"M7op\");var b=function(e){Object(r.a)(n,e);var t=v(n);function n(e){var s;return Object(i.a)(this,n),s=t.call(this,e),Object(u.a)(Object(o.a)(s),\"onError\",(function(e){s.setState({error:\"Failed to publish: \".concat(e.message)})})),s.state={error:null,audio:!0,video:!0,videoSource:\"screen\",appear:!1},s.defineEventEmitterCallbacks(),s}return Object(s.a)(n,[{key:\"defineEventEmitterCallbacks\",value:function(){var e=this;f.a.subscribe(\"startScreenShare\",(function(){e.setState({appear:!0})})),f.a.subscribe(\"stopScreenShare\",(function(){e.setState({appear:!1})}))}},{key:\"render\",value:function(){return!1===this.state.appear?null:p(h.a.Fragment,null,this.state.error?p(\"div\",null,this.state.error):null,p(d.OTPublisher,{properties:{width:\"13.62vw\",maxWidth:\"13.62vw\",height:\"20vh\",publishAudio:this.state.audio,publishVideo:this.state.video,videoSource:\"screen\"},session:this.props.session,onError:this.onError}))}}]),n}(l.Component),S=h.a.createElement;function m(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}n(\"M7op\");var y=function(e){Object(r.a)(n,e);var t=m(n);function n(e){var s;return Object(i.a)(this,n),s=t.call(this,e),Object(u.a)(Object(o.a)(s),\"onError\",(function(e){s.setState({error:\"Failed to publish: \".concat(e.message)})})),s.state={error:null,audio:!0,video:!0},s.defineEventEmitterCallbacks(),s}return Object(s.a)(n,[{key:\"defineEventEmitterCallbacks\",value:function(){var e=this;f.a.subscribe(\"disableVideo\",(function(){e.setState({video:!1}),f.a.publish(\"disableVideoButton\")})),f.a.subscribe(\"enableVideo\",(function(){e.setState({video:!0}),f.a.publish(\"enableVideoButton\")}))}},{key:\"render\",value:function(){return S(\"div\",null,this.state.error?S(\"div\",null,this.state.error):null,S(d.OTPublisher,{properties:{width:\"13.57vw\",maxWidth:\"13.57vw\",maxHeight:\"8vh\",publishVideo:this.state.video,marginBottom:\"5px\"},session:this.props.session,onError:this.onError}),S(b,{style:{width:\"13.62vw\",maxWidth:\"13.62vw\",height:\"500px\",maxHeight:\"16vh\",marginBottom:\"5px\"},session:this.props.session}))}}]),n}(l.Component),x=n(\"QetY\"),O=h.a.createElement;function w(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return Object(a.a)(this,n)}}n(\"M7op\");var g=function(e){Object(r.a)(n,e);var t=w(n);function n(e){var s;Object(i.a)(this,n),s=t.call(this,e),Object(u.a)(Object(o.a)(s),\"handlePublish\",(function(){console.log(\"Successfully published!\")})),Object(u.a)(Object(o.a)(s),\"handleSubscribe\",(function(){console.log(\"Subscribed!\")})),Object(u.a)(Object(o.a)(s),\"handleSessionError\",(function(e){console.error(e)})),Object(u.a)(Object(o.a)(s),\"handlePublishError\",(function(e){console.error(e)})),Object(u.a)(Object(o.a)(s),\"handleSubscribeError\",(function(e){console.error(e)})),s.state={ssButton:!0,streams:[],focusStream:{},videoButton:!0,expand:!1},s.defineEventEmitterCallbacks(),s.sessionEventHandlers={sessionConnected:function(){},sessionDisconnected:function(){},sessionReconnected:function(){},sessionReconnecting:function(){}},s.publishEventHandlers={accessDenied:function(){},streamCreated:function(){},streamDestroyed:function(){}},s.subscribeEventHandlers={videoEnabled:function(){},videoDisabled:function(){}};var r=s.props;r.sessionId,r.token,r.onLeave;return s}return Object(s.a)(n,[{key:\"defineEventEmitterCallbacks\",value:function(){var e=this;f.a.subscribe(\"disableVideoButton\",(function(){e.setState({videoButton:!1})})),f.a.subscribe(\"enableVideoButton\",(function(){e.setState({videoButton:!0})}))}},{key:\"getStreamToDisplay\",value:function(){return!0===this.state.expand?O(d.OTSubscriber,{key:this.state.focusStream.id,session:this.sessionHelper.session,stream:this.state.focusStream,properties:{maxWidth:\"75vw\",maxHeight:\"75vh\",height:\"85vh\",width:\"48vw\"},onSubscribe:this.handleSubscribe,onError:this.handleSubscribeError}):null}},{key:\"screenShareButton\",value:function(){var e=this;return!0===this.state.ssButton?O(x.a,{onClick:function(){f.a.publish(\"startScreenShare\"),e.setState({ssButton:!1})},style:{fontSize:\".8vw\",display:\"inline-flex\"},icon:\"tv\",content:\"Share Screen\"}):O(x.a,{onClick:function(){f.a.publish(\"stopScreenShare\"),e.setState({ssButton:!0})},icon:\"tv\",style:{fontSize:\".8vw\",display:\"inline-flex\"},content:\"Stop Screen Share\"})}},{key:\"videoStateButton\",value:function(){return!0===this.state.videoButton?O(x.a,{onClick:function(){f.a.publish(\"disableVideo\")},icon:\"hide\",style:{fontSize:\".8vw\",display:\"inline-flex\"},content:\"Disable video\"}):O(x.a,{onClick:function(){f.a.publish(\"enableVideo\")},icon:\"eye\",style:{fontSize:\".8vw\",display:\"inline-flex\"},content:\"Enable video\"})}},{key:\"unexpandButton\",value:function(){var e=this;return!0===this.state.expand?O(x.a,{onClick:function(){e.setState({expand:!1}),console.log(\"ore\")},style:{fontSize:\".8vw\",display:\"inline-flex\"},content:\"Unexpand video\"}):null}},{key:\"componentWillMount\",value:function(){var e=this,t=this.props,n=t.sessionId,i=t.token;t.onLeave;this.sessionHelper=Object(d.createSession)({apiKey:\"\".concat(\"46858704\"),sessionId:\"\".concat(n),token:\"\".concat(i),onStreamsUpdated:function(t){e.setState({streams:t})}})}},{key:\"componentWillUnmount\",value:function(){this.sessionHelper.disconnect()}},{key:\"render\",value:function(){var e=this,t=this.props,n=(t.sessionId,t.token,t.onLeave);return O(h.a.Fragment,null,O(\"div\",{style:{display:\"inline-flex\",width:\"100%\",maxHeight:\"86vh\"}},O(\"div\",{style:{width:\"78%\",maxHeight:\"85vh\",overflow:\"auto\"}},this.getStreamToDisplay()),O(\"div\",{style:{width:\"22%\",maxHeight:\"85vh\",overflow:\"auto\",height:\"1000px\"}},O(y,{style:{width:\"13.57vw\",maxWidth:\"13.57vw\",marginBottom:\"5px\"},session:this.sessionHelper.session}),this.state.streams.map((function(t){return O(h.a.Fragment,null,O(x.a,{onClick:function(){e.setState({focusStream:t}),e.setState({expand:!0})},style:{padding:\"0px\",width:\"100%\",maxHeight:\"18vh\",margin:\"0px\"}},O(d.OTSubscriber,{key:t.id,session:e.sessionHelper.session,stream:t,properties:{width:\"100%\",height:\"18vh\",maxHeight:\"18vh\",margin:\"0px\"},onSubscribe:e.handleSubscribe,onError:e.handleSubscribeError})))})))),this.videoStateButton(),this.unexpandButton(),this.screenShareButton(),O(x.a,{onClick:n,color:\"red\",icon:\"close\",style:{fontSize:\".8vw\",display:\"inline-flex\"},content:\"Leave call\"}))}}]),n}(h.a.Component);t.default=g}}]);","extractedComments":[]}