{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport { Modal, Header } from 'semantic-ui-react';\nimport { EventEmitter } from './util/EventEmitter';\nimport Loader from 'react-loader-spinner';\n\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport default class WaitingForNewLeaderModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userId: this.props.user,\n      modalState: false\n    };\n    EventEmitter.subscribe('activateWaitingForNewLeaderModal', data => {\n      this.setState({\n        modalState: true\n      }, () => {\n        sleep(3000).then(() => {\n          EventEmitter.publish('bidForLeaderPosition', data);\n        });\n      });\n    });\n    EventEmitter.subscribe('removeWaitingForNewLeaderModal', winnerId => {\n      this.setState({\n        modalState: false\n      });\n\n      if (this.state.userId === winnerId) {\n        console.log('publishing new leader'); // you are the new leader\n\n        EventEmitter.publish('createNotification', 'You Are The New Leader');\n      }\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", null, __jsx(Modal, {\n      style: {\n        borderless: 'true',\n        width: '40%',\n        height: '40%'\n      },\n      open: this.state.modalState,\n      onClose: () => this.setState({\n        modalState: false\n      }),\n      closeOnDimmerClick: false,\n      closeOnEscape: false\n    }, __jsx(Loader, {\n      style: {\n        textAlign: 'center'\n      },\n      type: \"ThreeDots\",\n      color: \"#00BFFF\",\n      height: 100,\n      width: 100,\n      timeout: 0\n    }), __jsx(Modal.Content, {\n      style: {\n        borderless: 'true'\n      }\n    }, __jsx(Header, {\n      style: {\n        fontSize: '2vw',\n        textAlign: 'center',\n        width: '100%',\n        padding: 50,\n        height: '50%',\n        margin: 'auto'\n      }\n    }, `Waiting For New Leader`), __jsx(\"div\", {\n      style: {\n        textAlign: 'center',\n        marginTop: '5%',\n        padding: 30,\n        flexDirection: 'row'\n      }\n    }))));\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}