{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport LargeLabel from '../components/largeLabel';\nimport DropDown from '../components/dropDown';\nimport Layout from '../components/layout';\nimport HeadComponent from '../components/headComponent';\nimport { EventEmitter } from '../components/util/EventEmitter';\nimport { AuthRequired } from '../components/authProvider';\nimport * as api from '../util/mercuryService';\nvar colors = ['D50000', 'F4511E', 'F6BF26', 'C0CA33', '0B8043', '009688'];\n\nvar Calendar = /*#__PURE__*/function (_Component) {\n  _inherits(Calendar, _Component);\n\n  var _super = _createSuper(Calendar);\n\n  function Calendar(props) {\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      classes: []\n    };\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      api.getClasses().then(function (classes) {\n        return _this2.setState({\n          classes: classes\n        });\n      });\n      EventEmitter.subscribe('currentlyEnrolled', function (classes) {\n        _this2.setState({\n          classes: classes\n        });\n      });\n      console.log(this.state.classes);\n    }\n  }, {\n    key: \"mergeCal\",\n    value: function mergeCal(classList) {\n      var src = 'https://calendar.google.com/calendar/embed?mode=WEEK&showTitle=0';\n      classList.filter(function (cc) {\n        return cc.role !== '';\n      }).forEach(function (c) {\n        src = src + '&src=' + c.calendarId + '&color=%23' + colors[(c.id - 2) % colors.length];\n      });\n      return src;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(React.Fragment, null, __jsx(HeadComponent, null), __jsx(Layout, {\n        left: __jsx(\"div\", {\n          style: {\n            paddingLeft: 20,\n            paddingRight: 20\n          }\n        }, __jsx(LargeLabel, {\n          content: __jsx(\"p\", null, \"Classes\")\n        }), __jsx(DropDown, null))\n      }, __jsx(\"iframe\", {\n        src: this.mergeCal(this.state.classes),\n        style: {\n          border: '0'\n        },\n        width: '100%',\n        height: '100%',\n        frameBorder: 0,\n        scrolling: \"no\"\n      })));\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nexport default _c = AuthRequired(Calendar);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/ryanj/Documents/mercury/pages/calendar.js"],"names":["React","Component","LargeLabel","DropDown","Layout","HeadComponent","EventEmitter","AuthRequired","api","colors","Calendar","props","state","classes","getClasses","then","setState","subscribe","console","log","classList","src","filter","cc","role","forEach","c","calendarId","id","length","paddingLeft","paddingRight","mergeCal","border"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,YAAT,QAA6B,iCAA7B;AACA,SAASC,YAAT,QAA6B,4BAA7B;AACA,OAAO,KAAKC,GAAZ,MAAqB,wBAArB;AAEA,IAAMC,MAAM,GAAG,CAAC,QAAD,EAAW,QAAX,EAAqB,QAArB,EAA+B,QAA/B,EAAyC,QAAzC,EAAmD,QAAnD,CAAf;;IAEMC,Q;;;;;AACJ,oBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE;AADE,KAAb;AAFiB;AAKlB;;;;wCACmB;AAAA;;AAClBL,MAAAA,GAAG,CAACM,UAAJ,GAAiBC,IAAjB,CAAsB,UAACF,OAAD;AAAA,eAAa,MAAI,CAACG,QAAL,CAAc;AAAEH,UAAAA,OAAO,EAAPA;AAAF,SAAd,CAAb;AAAA,OAAtB;AAEAP,MAAAA,YAAY,CAACW,SAAb,CAAuB,mBAAvB,EAA4C,UAACJ,OAAD,EAAa;AACvD,QAAA,MAAI,CAACG,QAAL,CAAc;AAAEH,UAAAA,OAAO,EAAPA;AAAF,SAAd;AACD,OAFD;AAGAK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAL,CAAWC,OAAvB;AACD;;;6BAEQO,S,EAAW;AAClB,UAAIC,GAAG,GAAG,kEAAV;AACAD,MAAAA,SAAS,CACNE,MADH,CACU,UAACC,EAAD;AAAA,eAAQA,EAAE,CAACC,IAAH,KAAY,EAApB;AAAA,OADV,EAEGC,OAFH,CAEW,UAACC,CAAD,EAAO;AACdL,QAAAA,GAAG,GACDA,GAAG,GACH,OADA,GAEAK,CAAC,CAACC,UAFF,GAGA,YAHA,GAIAlB,MAAM,CAAC,CAACiB,CAAC,CAACE,EAAF,GAAO,CAAR,IAAanB,MAAM,CAACoB,MAArB,CALR;AAMD,OATH;AAWA,aAAOR,GAAP;AACD;;;6BAEQ;AACP,aACE,4BACE,MAAC,aAAD,OADF,EAEE,MAAC,MAAD;AACE,QAAA,IAAI,EACF;AAAK,UAAA,KAAK,EAAE;AAAES,YAAAA,WAAW,EAAE,EAAf;AAAmBC,YAAAA,YAAY,EAAE;AAAjC;AAAZ,WACE,MAAC,UAAD;AAAY,UAAA,OAAO,EAAE;AAArB,UADF,EAEE,MAAC,QAAD,OAFF;AAFJ,SAQE;AACE,QAAA,GAAG,EAAE,KAAKC,QAAL,CAAc,KAAKpB,KAAL,CAAWC,OAAzB,CADP;AAEE,QAAA,KAAK,EAAE;AAAEoB,UAAAA,MAAM,EAAE;AAAV,SAFT;AAGE,QAAA,KAAK,EAAE,MAHT;AAIE,QAAA,MAAM,EAAE,MAJV;AAKE,QAAA,WAAW,EAAE,CALf;AAME,QAAA,SAAS,EAAC;AANZ,QARF,CAFF,CADF;AAsBD;;;;EAvDoBhC,S;;AA0DvB,oBAAeM,YAAY,CAACG,QAAD,CAA3B","sourcesContent":["import React, { Component } from 'react'\r\nimport LargeLabel from '../components/largeLabel'\r\nimport DropDown from '../components/dropDown'\r\nimport Layout from '../components/layout'\r\nimport HeadComponent from '../components/headComponent'\r\nimport { EventEmitter } from '../components/util/EventEmitter'\r\nimport { AuthRequired } from '../components/authProvider'\r\nimport * as api from '../util/mercuryService'\r\n\r\nconst colors = ['D50000', 'F4511E', 'F6BF26', 'C0CA33', '0B8043', '009688']\r\n\r\nclass Calendar extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      classes: [],\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    api.getClasses().then((classes) => this.setState({ classes }))\r\n\r\n    EventEmitter.subscribe('currentlyEnrolled', (classes) => {\r\n      this.setState({ classes })\r\n    })\r\n    console.log(this.state.classes)\r\n  }\r\n\r\n  mergeCal(classList) {\r\n    var src = 'https://calendar.google.com/calendar/embed?mode=WEEK&showTitle=0'\r\n    classList\r\n      .filter((cc) => cc.role !== '')\r\n      .forEach((c) => {\r\n        src =\r\n          src +\r\n          '&src=' +\r\n          c.calendarId +\r\n          '&color=%23' +\r\n          colors[(c.id - 2) % colors.length]\r\n      })\r\n\r\n    return src\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <>\r\n        <HeadComponent />\r\n        <Layout\r\n          left={\r\n            <div style={{ paddingLeft: 20, paddingRight: 20 }}>\r\n              <LargeLabel content={<p>Classes</p>}></LargeLabel>\r\n              <DropDown></DropDown>\r\n            </div>\r\n          }\r\n        >\r\n          <iframe\r\n            src={this.mergeCal(this.state.classes)}\r\n            style={{ border: '0' }}\r\n            width={'100%'}\r\n            height={'100%'}\r\n            frameBorder={0}\r\n            scrolling=\"no\"\r\n          ></iframe>\r\n        </Layout>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AuthRequired(Calendar)\r\n"]},"metadata":{},"sourceType":"module"}