{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport dynamic from 'next/dynamic';\nimport Layout from '../../components/layout';\nimport { Button, Accordion, List, Icon } from 'semantic-ui-react';\nimport { AuthRequired, useAuth } from '../../components/authProvider';\nimport Queue from '../../components/queue/queue';\nimport * as api from '../../util/mercuryService';\nimport CreateGroupModal from '../../components/createGroupModal';\nimport StudentInviteModal from '../../components/studentInviteModal'; //import CreateDiscussionModal from '../../components/createDiscussionModal'\n\nconst CreateDiscussionModal = dynamic(() => import('../../components/createDiscussionModal'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/createDiscussionModal')],\n    modules: ['../../components/createDiscussionModal']\n  }\n});\nconst Vonage = dynamic(() => import('../../components/vonage'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('../../components/vonage')],\n    modules: ['../../components/vonage']\n  }\n});\n\nfunction ClassPage() {\n  const router = useRouter();\n  const {\n    user\n  } = useAuth();\n  const {\n    0: clicked,\n    1: setClicked\n  } = useState({\n    clicked: 'none'\n  });\n  const {\n    0: currentGroup,\n    1: setCurrentGroup\n  } = useState({\n    id: '',\n    name: ''\n  });\n  const {\n    0: currentClass,\n    1: setCurrentClass\n  } = useState({\n    id: '',\n    name: '',\n    groups: [],\n    users: [],\n    role: 'Student'\n  });\n  const {\n    0: vonageCred,\n    1: setVonageCred\n  } = useState(null);\n  const {\n    0: openInviteModal,\n    1: setInviteModal\n  } = useState(false);\n  const {\n    classId\n  } = router.query;\n\n  const plusIcon = __jsx(List.Icon, {\n    name: \"user plus\",\n    size: \"med\"\n  });\n\n  const noPlusIcon = __jsx(\"div\", null);\n\n  const fetchCurrentClass = () => {\n    api.getClass(classId).then(c => {\n      const userRole = c.users.find(u => u.id === user.id);\n      if (!userRole) router.push('/calendar');\n      setCurrentClass(_objectSpread(_objectSpread({}, c), {}, {\n        role: userRole.role\n      }));\n    }).catch(console.error);\n  };\n\n  useEffect(() => {\n    if (!classId) return;\n    api.getClass(classId).then(c => {\n      const userRole = c.users.find(u => u.id === user.id);\n      if (!userRole) router.push('/calendar');\n      setCurrentClass(_objectSpread(_objectSpread({}, c), {}, {\n        role: userRole.role\n      }));\n    }).catch(console.error);\n  });\n\n  const handleBack = async () => {\n    await router.push('/calendar');\n  };\n\n  const handleSelectGroup = group => {\n    api.postGroupToken(classId, group.id).then(({\n      token\n    }) => {\n      setVonageCred(null);\n      setVonageCred({\n        sessionId: group.sessionId,\n        token\n      });\n    }).catch(console.error);\n  };\n\n  const handleJoinTA = group => {\n    handleSelectGroup(group);\n    setCurrentGroup(group);\n  };\n\n  var buttonClicked = 'false';\n\n  function getButtonToDisplay() {\n    return currentClass.role === 'Student' ? __jsx(CreateGroupModal, {\n      onCreate: handleCreateGroup\n    }) : currentClass.role === 'Professor' && clicked.clicked === 'none' ? __jsx(Button, {\n      color: \"teal\",\n      content: \"Modify Discussions\",\n      fluid: true,\n      style: {\n        fontSize: '1vw'\n      },\n      onClick: () => {\n        clicked.clicked = 'inline';\n      }\n    }) : __jsx(React.Fragment, null, __jsx(CreateDiscussionModal, {\n      id: \"createDiscussionModal\",\n      onCreate: handleCreateGroup\n    }), __jsx(Button, {\n      color: \"teal\",\n      content: \"Exit Modify Discussions\",\n      fluid: true,\n      style: {\n        fontSize: '1vw',\n        marginTop: '2%'\n      },\n      onClick: () => {\n        clicked.clicked = 'none';\n      }\n    }));\n  }\n\n  function leftDisplay() {\n    return currentClass.role === 'Student' ? __jsx(\"div\", {\n      style: {\n        height: '100%',\n        marginLeft: '2.5%'\n      }\n    }, __jsx(Button.Group, {\n      size: \"huge\",\n      style: {\n        marginBottom: 12,\n        width: '100%'\n      },\n      fluid: true\n    }, __jsx(Button, {\n      compact: true,\n      icon: \"angle left\",\n      content: currentClass.name,\n      style: {\n        fontSize: '1.5vw',\n        textAlign: 'left',\n        width: '75%',\n        marginBottom: '2%',\n        minWidth: '41px'\n      },\n      onClick: handleBack\n    }), __jsx(Button, {\n      compact: true,\n      icon: \"setting\",\n      style: {\n        fontSize: '1.5vw',\n        textAlign: 'center',\n        width: '15%',\n        marginBottom: '2%',\n        minWidth: '14px'\n      }\n    })), showOffice(), __jsx(Accordion, {\n      fluid: true,\n      exclusive: false,\n      defaultActiveIndex: [0, 1],\n      style: {\n        fontSize: '1vw',\n        textAlign: 'left',\n        width: '100%',\n        marginBottom: '2%',\n        minWidth: '41px'\n      },\n      panels: [{\n        key: 'discussions',\n        title: 'Discussions',\n        content: {\n          content: __jsx(\"div\", {\n            style: {\n              paddingLeft: 20\n            }\n          }, __jsx(List, {\n            relaxed: true,\n            selection: true\n          }, currentClass.groups.filter(group => group.type === 'discussion').map(group => __jsx(List.Item, {\n            key: `discussion_${group.id}`,\n            onClick: () => {\n              if (currentGroup.id !== group.id) {\n                handleSelectGroup(group);\n                setCurrentGroup(group);\n              }\n            },\n            style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n          }, __jsx(List.Icon, {\n            name: \"sound\"\n          }), __jsx(List.Content, null, __jsx(List.Header, {\n            as: \"a\"\n          }, group.name)), showInviteButton(group)))))\n        }\n      }, {\n        key: 'private-groups',\n        title: 'Private Groups',\n        content: {\n          content: __jsx(\"div\", {\n            style: {\n              paddingLeft: 20\n            }\n          }, __jsx(List, {\n            relaxed: true,\n            selection: true\n          }, currentClass.groups.filter(group => group.type === 'group').map(group => __jsx(List.Item, {\n            key: `private_group_${group.id}`,\n            onClick: () => {\n              if (currentGroup.id !== group.id) {\n                handleSelectGroup(group);\n                setCurrentGroup(group);\n              }\n            },\n            style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n          }, __jsx(List.Icon, {\n            name: \"lock\"\n          }), __jsx(List.Content, null, __jsx(List.Header, {\n            as: \"a\"\n          }, group.name)), showInviteButton(group)))))\n        }\n      }]\n    }), __jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        width: 'calc(100% - 38px)',\n        bottom: 14\n      }\n    }, getButtonToDisplay())) : __jsx(\"div\", {\n      style: {\n        height: '100%',\n        marginLeft: '2.5%'\n      }\n    }, __jsx(Button.Group, {\n      size: \"huge\",\n      style: {\n        marginBottom: 12,\n        width: '100%'\n      },\n      fluid: true\n    }, __jsx(Button, {\n      compact: true,\n      icon: \"angle left\",\n      content: currentClass.name,\n      style: {\n        fontSize: '1.5vw',\n        textAlign: 'left',\n        width: '75%',\n        marginBottom: '2%',\n        minWidth: '41px'\n      },\n      onClick: handleBack\n    }), __jsx(Button, {\n      compact: true,\n      icon: \"setting\",\n      style: {\n        fontSize: '1.5vw',\n        textAlign: 'center',\n        width: '15%',\n        marginBottom: '2%',\n        minWidth: '14px'\n      }\n    })), showOffice(), __jsx(Accordion, {\n      fluid: true,\n      exclusive: false,\n      defaultActiveIndex: [0, 1],\n      style: {\n        fontSize: '1vw',\n        textAlign: 'left',\n        width: '100%',\n        marginBottom: '2%',\n        minWidth: '41px'\n      },\n      panels: [{\n        key: 'discussions',\n        title: 'Discussions',\n        content: {\n          content: __jsx(\"div\", {\n            style: {\n              paddingLeft: 20\n            }\n          }, __jsx(List, {\n            relaxed: true,\n            selection: true\n          }, currentClass.groups.filter(group => group.type === 'discussion').map(group => __jsx(React.Fragment, null, __jsx(List.Item, {\n            key: `discussion_${group.id}`,\n            onClick: () => {\n              if (currentGroup.id !== group.id) {\n                handleSelectGroup(group);\n                setCurrentGroup(group);\n              }\n            },\n            style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n          }, __jsx(List.Icon, {\n            name: \"sound\"\n          }), __jsx(List.Content, null, __jsx(List.Header, {\n            as: \"a\"\n          }, group.name)), showInviteButton(group)), __jsx(Button, {\n            id: `deletebutton${group.id}`,\n            compact: true,\n            icon: true,\n            size: \"mini\",\n            floated: \"right\",\n            style: {\n              display: `${clicked.clicked}`,\n              fontSize: '.6vw',\n              textAlign: 'center',\n              width: '10%',\n              marginBottom: '2%',\n              minWidth: '10px',\n              backgroundColor: 'transparent'\n            },\n            onClick: () => {\n              api.deleteGroup(classId, group.id);\n            }\n          }, __jsx(Icon, {\n            name: \"delete\",\n            color: \"red\"\n          }))))))\n        }\n      }, {\n        key: 'private-groups',\n        title: 'Private Groups',\n        content: {\n          content: __jsx(\"div\", {\n            style: {\n              paddingLeft: 20\n            }\n          }, __jsx(List, {\n            relaxed: true,\n            selection: true\n          }, currentClass.groups.filter(group => group.type === 'group').map(group => __jsx(List.Item, {\n            key: `private_group_${group.id}`,\n            onClick: () => {\n              if (currentGroup.id !== group.id) {\n                handleSelectGroup(group);\n                setCurrentGroup(group);\n              }\n            },\n            style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n          }, __jsx(List.Icon, {\n            name: \"lock\"\n          }), __jsx(List.Content, null, __jsx(List.Header, {\n            as: \"a\"\n          }, group.name)), showInviteButton(group)))))\n        }\n      }]\n    }), __jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        width: 'calc(100% - 38px)',\n        bottom: 14\n      }\n    }, getButtonToDisplay()));\n  }\n\n  function showOffice() {\n    return (currentClass.role !== 'Student' || currentGroup.type === 'office') && __jsx(\"div\", {\n      style: {\n        paddingLeft: 20\n      }\n    }, __jsx(List, {\n      relaxed: true,\n      selection: true,\n      verticalAlign: \"middle\"\n    }, currentClass.groups.filter(group => group.type === 'office').map(group => __jsx(List.Item, {\n      key: `office`,\n      onClick: () => {\n        if (currentGroup.id !== group.id) {\n          handleSelectGroup(group);\n          setCurrentGroup(group);\n        } else {\n          setInviteModal(true);\n        }\n      },\n      style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n    }, __jsx(List.Icon, {\n      name: \"graduation cap\"\n    }), __jsx(List.Content, null, __jsx(List.Header, {\n      as: \"a\"\n    }, \"TA Office\")), showInviteButton(group)))));\n  }\n\n  const handleCreateGroup = async group => {\n    await api.postGroup(classId, group.name, group.type).then(group => {\n      fetchCurrentClass();\n      handleSelectGroup(group);\n      setCurrentGroup(group);\n    });\n  };\n\n  function showInviteButton(group) {\n    return currentGroup.id == group.id && vonageCred !== null ? plusIcon : noPlusIcon;\n  }\n\n  const handleInvite = () => {\n    setInviteModal(false);\n  };\n\n  return __jsx(Layout, {\n    left: leftDisplay(),\n    right: __jsx(Queue, {\n      onJoin: handleJoinTA,\n      currentGroup: currentGroup\n    })\n  }, vonageCred && __jsx(Vonage, {\n    sessionId: vonageCred.sessionId,\n    token: vonageCred.token,\n    onLeave: () => {\n      setVonageCred(null);\n      setCurrentGroup({\n        id: '',\n        name: ''\n      });\n    }\n  }), __jsx(StudentInviteModal, {\n    isOpen: openInviteModal,\n    onInvite: handleInvite\n  }));\n}\n\nconst unClickedGroupsStyle = {\n  fontSize: '.8vw',\n  textAlign: 'left',\n  width: '80%',\n  marginBottom: '2%',\n  minWidth: '41px',\n  display: 'inline-block'\n};\nconst clickedGroupsStyle = {\n  fontSize: '.8vw',\n  textAlign: 'left',\n  width: '80%',\n  marginBottom: '2%',\n  minWidth: '41px',\n  background: '#e0e1e2',\n  borderRadius: 10,\n  borderWidth: 1,\n  borderColor: '#fff',\n  display: 'inline-block'\n};\nexport default AuthRequired(ClassPage);","map":{"version":3,"sources":["C:/Users/ryanj/Documents/mercury/pages/classes/[classId].js"],"names":["React","useEffect","useState","useRouter","dynamic","Layout","Button","Accordion","List","Icon","AuthRequired","useAuth","Queue","api","CreateGroupModal","StudentInviteModal","CreateDiscussionModal","ssr","Vonage","ClassPage","router","user","clicked","setClicked","currentGroup","setCurrentGroup","id","name","currentClass","setCurrentClass","groups","users","role","vonageCred","setVonageCred","openInviteModal","setInviteModal","classId","query","plusIcon","noPlusIcon","fetchCurrentClass","getClass","then","c","userRole","find","u","push","catch","console","error","handleBack","handleSelectGroup","group","postGroupToken","token","sessionId","handleJoinTA","buttonClicked","getButtonToDisplay","handleCreateGroup","fontSize","marginTop","leftDisplay","height","marginLeft","marginBottom","width","textAlign","minWidth","showOffice","key","title","content","paddingLeft","filter","type","map","clickedGroupsStyle","unClickedGroupsStyle","showInviteButton","position","bottom","display","backgroundColor","deleteGroup","postGroup","handleInvite","background","borderRadius","borderWidth","borderColor"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,MAAT,EAAiBC,SAAjB,EAA4BC,IAA5B,EAAkCC,IAAlC,QAA8C,mBAA9C;AACA,SAASC,YAAT,EAAuBC,OAAvB,QAAsC,+BAAtC;AACA,OAAOC,KAAP,MAAkB,8BAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,2BAArB;AACA,OAAOC,gBAAP,MAA6B,mCAA7B;AACA,OAAOC,kBAAP,MAA+B,qCAA/B,C,CACA;;AACA,MAAMC,qBAAqB,GAAGZ,OAAO,CAAC,MAAM,OAAO,wCAAP,CAAP,EAAyD;AAC5Fa,EAAAA,GAAG,EAAE,KADuF;AAAA;AAAA,wCAA3C,wCAA2C;AAAA,cAA3C,wCAA2C;AAAA;AAAA,CAAzD,CAArC;AAGA,MAAMC,MAAM,GAAGd,OAAO,CAAC,MAAM,OAAO,yBAAP,CAAP,EAA0C;AAC9Da,EAAAA,GAAG,EAAE,KADyD;AAAA;AAAA,wCAA5B,yBAA4B;AAAA,cAA5B,yBAA4B;AAAA;AAAA,CAA1C,CAAtB;;AAIA,SAASE,SAAT,GAAqB;AACnB,QAAMC,MAAM,GAAGjB,SAAS,EAAxB;AACA,QAAM;AAAEkB,IAAAA;AAAF,MAAWV,OAAO,EAAxB;AACA,QAAM;AAAA,OAACW,OAAD;AAAA,OAAUC;AAAV,MAAwBrB,QAAQ,CAAC;AAACoB,IAAAA,OAAO,EAAE;AAAV,GAAD,CAAtC;AACA,QAAM;AAAA,OAACE,YAAD;AAAA,OAAeC;AAAf,MAAkCvB,QAAQ,CAAC;AAAEwB,IAAAA,EAAE,EAAE,EAAN;AAAUC,IAAAA,IAAI,EAAE;AAAhB,GAAD,CAAhD;AACA,QAAM;AAAA,OAACC,YAAD;AAAA,OAAeC;AAAf,MAAkC3B,QAAQ,CAAC;AAC/CwB,IAAAA,EAAE,EAAE,EAD2C;AAE/CC,IAAAA,IAAI,EAAE,EAFyC;AAG/CG,IAAAA,MAAM,EAAE,EAHuC;AAI/CC,IAAAA,KAAK,EAAE,EAJwC;AAK/CC,IAAAA,IAAI,EAAE;AALyC,GAAD,CAAhD;AAOA,QAAM;AAAA,OAACC,UAAD;AAAA,OAAaC;AAAb,MAA8BhC,QAAQ,CAAC,IAAD,CAA5C;AACA,QAAM;AAAA,OAACiC,eAAD;AAAA,OAAkBC;AAAlB,MAAoClC,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM;AAAEmC,IAAAA;AAAF,MAAcjB,MAAM,CAACkB,KAA3B;;AACA,QAAMC,QAAQ,GAAG,MAAC,IAAD,CAAM,IAAN;AAAW,IAAA,IAAI,EAAC,WAAhB;AAA4B,IAAA,IAAI,EAAC;AAAjC,IAAjB;;AACA,QAAMC,UAAU,GAAG,kBAAnB;;AAEA,QAAMC,iBAAiB,GAAG,MAAM;AAC9B5B,IAAAA,GAAG,CACA6B,QADH,CACYL,OADZ,EAEGM,IAFH,CAESC,CAAD,IAAO;AACX,YAAMC,QAAQ,GAAGD,CAAC,CAACb,KAAF,CAAQe,IAAR,CAAcC,CAAD,IAAOA,CAAC,CAACrB,EAAF,KAASL,IAAI,CAACK,EAAlC,CAAjB;AACA,UAAI,CAACmB,QAAL,EAAezB,MAAM,CAAC4B,IAAP,CAAY,WAAZ;AAEfnB,MAAAA,eAAe,iCAAMe,CAAN;AAASZ,QAAAA,IAAI,EAAEa,QAAQ,CAACb;AAAxB,SAAf;AACD,KAPH,EAQGiB,KARH,CAQSC,OAAO,CAACC,KARjB;AASD,GAVD;;AAYAlD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACoC,OAAL,EAAc;AAEdxB,IAAAA,GAAG,CACA6B,QADH,CACYL,OADZ,EAEGM,IAFH,CAESC,CAAD,IAAO;AACX,YAAMC,QAAQ,GAAGD,CAAC,CAACb,KAAF,CAAQe,IAAR,CAAcC,CAAD,IAAOA,CAAC,CAACrB,EAAF,KAASL,IAAI,CAACK,EAAlC,CAAjB;AACA,UAAI,CAACmB,QAAL,EAAezB,MAAM,CAAC4B,IAAP,CAAY,WAAZ;AAEfnB,MAAAA,eAAe,iCAAMe,CAAN;AAASZ,QAAAA,IAAI,EAAEa,QAAQ,CAACb;AAAxB,SAAf;AACD,KAPH,EAQGiB,KARH,CAQSC,OAAO,CAACC,KARjB;AASD,GAZQ,CAAT;;AAcA,QAAMC,UAAU,GAAG,YAAY;AAC7B,UAAMhC,MAAM,CAAC4B,IAAP,CAAY,WAAZ,CAAN;AACD,GAFD;;AAIA,QAAMK,iBAAiB,GAAIC,KAAD,IAAW;AACnCzC,IAAAA,GAAG,CACA0C,cADH,CACkBlB,OADlB,EAC2BiB,KAAK,CAAC5B,EADjC,EAEGiB,IAFH,CAEQ,CAAC;AAAEa,MAAAA;AAAF,KAAD,KAAe;AACnBtB,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAA,MAAAA,aAAa,CAAC;AAAEuB,QAAAA,SAAS,EAAEH,KAAK,CAACG,SAAnB;AAA8BD,QAAAA;AAA9B,OAAD,CAAb;AACD,KALH,EAMGP,KANH,CAMSC,OAAO,CAACC,KANjB;AAOD,GARD;;AAUA,QAAMO,YAAY,GAAIJ,KAAD,IAAW;AAC9BD,IAAAA,iBAAiB,CAACC,KAAD,CAAjB;AACA7B,IAAAA,eAAe,CAAC6B,KAAD,CAAf;AACD,GAHD;;AAKA,MAAIK,aAAa,GAAG,OAApB;;AAEA,WAASC,kBAAT,GAA8B;AAC5B,WAAOhC,YAAY,CAACI,IAAb,KAAsB,SAAtB,GACL,MAAC,gBAAD;AAAkB,MAAA,QAAQ,EAAE6B;AAA5B,MADK,GAEHjC,YAAY,CAACI,IAAb,KAAsB,WAAtB,IAAsCV,OAAO,CAACA,OAAR,KAAoB,MAA1D,GACF,MAAC,MAAD;AACE,MAAA,KAAK,EAAC,MADR;AAEE,MAAA,OAAO,EAAC,oBAFV;AAGE,MAAA,KAAK,MAHP;AAIE,MAAA,KAAK,EAAE;AAAEwC,QAAAA,QAAQ,EAAE;AAAZ,OAJT;AAKE,MAAA,OAAO,EAAE,MAAM;AAACxC,QAAAA,OAAO,CAACA,OAAR,GAAkB,QAAlB;AAA2B;AAL7C,MADE,GASF,4BACA,MAAC,qBAAD;AAAuB,MAAA,EAAE,EAAG,uBAA5B;AAAoD,MAAA,QAAQ,EAAEuC;AAA9D,MADA,EAEA,MAAC,MAAD;AACE,MAAA,KAAK,EAAC,MADR;AAEE,MAAA,OAAO,EAAC,yBAFV;AAGE,MAAA,KAAK,MAHP;AAIE,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE,KAAZ;AAAmBC,QAAAA,SAAS,EAAE;AAA9B,OAJT;AAKE,MAAA,OAAO,EAAE,MAAM;AAACzC,QAAAA,OAAO,CAACA,OAAR,GAAkB,MAAlB;AAAyB;AAL3C,MAFA,CAXF;AAsBD;;AAED,WAAS0C,WAAT,GAAuB;AACrB,WAAOpC,YAAY,CAACI,IAAb,KAAsB,SAAtB,GACL;AAAK,MAAA,KAAK,EAAE;AAAEiC,QAAAA,MAAM,EAAE,MAAV;AAAkBC,QAAAA,UAAU,EAAE;AAA9B;AAAZ,OACE,MAAC,MAAD,CAAQ,KAAR;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY,EAAE,EAAhB;AAAoBC,QAAAA,KAAK,EAAE;AAA3B,OAFT;AAGE,MAAA,KAAK;AAHP,OAKE,MAAC,MAAD;AACE,MAAA,OAAO,MADT;AAEE,MAAA,IAAI,EAAC,YAFP;AAGE,MAAA,OAAO,EAAExC,YAAY,CAACD,IAHxB;AAIE,MAAA,KAAK,EAAE;AACLmC,QAAAA,QAAQ,EAAE,OADL;AAELO,QAAAA,SAAS,EAAE,MAFN;AAGLD,QAAAA,KAAK,EAAE,KAHF;AAILD,QAAAA,YAAY,EAAE,IAJT;AAKLG,QAAAA,QAAQ,EAAE;AALL,OAJT;AAWE,MAAA,OAAO,EAAElB;AAXX,MALF,EAkBE,MAAC,MAAD;AACE,MAAA,OAAO,MADT;AAEE,MAAA,IAAI,EAAC,SAFP;AAGE,MAAA,KAAK,EAAE;AACLU,QAAAA,QAAQ,EAAE,OADL;AAELO,QAAAA,SAAS,EAAE,QAFN;AAGLD,QAAAA,KAAK,EAAE,KAHF;AAILD,QAAAA,YAAY,EAAE,IAJT;AAKLG,QAAAA,QAAQ,EAAE;AALL;AAHT,MAlBF,CADF,EA+BGC,UAAU,EA/Bb,EAgCE,MAAC,SAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,SAAS,EAAE,KAFb;AAGE,MAAA,kBAAkB,EAAE,CAAC,CAAD,EAAI,CAAJ,CAHtB;AAIE,MAAA,KAAK,EAAE;AACLT,QAAAA,QAAQ,EAAE,KADL;AAELO,QAAAA,SAAS,EAAE,MAFN;AAGLD,QAAAA,KAAK,EAAE,MAHF;AAILD,QAAAA,YAAY,EAAE,IAJT;AAKLG,QAAAA,QAAQ,EAAE;AALL,OAJT;AAWE,MAAA,MAAM,EAAE,CACN;AACEE,QAAAA,GAAG,EAAE,aADP;AAEEC,QAAAA,KAAK,EAAE,aAFT;AAGEC,QAAAA,OAAO,EAAE;AACPA,UAAAA,OAAO,EACL;AAAK,YAAA,KAAK,EAAE;AAAEC,cAAAA,WAAW,EAAE;AAAf;AAAZ,aACE,MAAC,IAAD;AAAM,YAAA,OAAO,MAAb;AAAc,YAAA,SAAS;AAAvB,aACG/C,YAAY,CAACE,MAAb,CACE8C,MADF,CACUtB,KAAD,IAAWA,KAAK,CAACuB,IAAN,KAAe,YADnC,EAEEC,GAFF,CAEOxB,KAAD,IACH,MAAC,IAAD,CAAM,IAAN;AACE,YAAA,GAAG,EAAG,cAAaA,KAAK,CAAC5B,EAAG,EAD9B;AAEE,YAAA,OAAO,EAAE,MAAM;AACb,kBAAIF,YAAY,CAACE,EAAb,KAAoB4B,KAAK,CAAC5B,EAA9B,EAAkC;AAChC2B,gBAAAA,iBAAiB,CAACC,KAAD,CAAjB;AACA7B,gBAAAA,eAAe,CAAC6B,KAAD,CAAf;AACD;AACF,aAPH;AAQE,YAAA,KAAK,EACH9B,YAAY,CAACE,EAAb,IAAmB4B,KAAK,CAAC5B,EAAzB,IACAO,UAAU,KAAK,IADf,GAEI8C,kBAFJ,GAGIC;AAZR,aAeE,MAAC,IAAD,CAAM,IAAN;AAAW,YAAA,IAAI,EAAC;AAAhB,YAfF,EAgBE,MAAC,IAAD,CAAM,OAAN,QACE,MAAC,IAAD,CAAM,MAAN;AAAa,YAAA,EAAE,EAAC;AAAhB,aAAqB1B,KAAK,CAAC3B,IAA3B,CADF,CAhBF,EAmBGsD,gBAAgB,CAAC3B,KAAD,CAnBnB,CAHH,CADH,CADF;AAFK;AAHX,OADM,EAsCN;AACEkB,QAAAA,GAAG,EAAE,gBADP;AAEEC,QAAAA,KAAK,EAAE,gBAFT;AAGEC,QAAAA,OAAO,EAAE;AACPA,UAAAA,OAAO,EACL;AAAK,YAAA,KAAK,EAAE;AAAEC,cAAAA,WAAW,EAAE;AAAf;AAAZ,aACE,MAAC,IAAD;AAAM,YAAA,OAAO,MAAb;AAAc,YAAA,SAAS;AAAvB,aACG/C,YAAY,CAACE,MAAb,CACE8C,MADF,CACUtB,KAAD,IAAWA,KAAK,CAACuB,IAAN,KAAe,OADnC,EAEEC,GAFF,CAEOxB,KAAD,IACH,MAAC,IAAD,CAAM,IAAN;AACE,YAAA,GAAG,EAAG,iBAAgBA,KAAK,CAAC5B,EAAG,EADjC;AAEE,YAAA,OAAO,EAAE,MAAM;AACb,kBAAIF,YAAY,CAACE,EAAb,KAAoB4B,KAAK,CAAC5B,EAA9B,EAAkC;AAChC2B,gBAAAA,iBAAiB,CAACC,KAAD,CAAjB;AACA7B,gBAAAA,eAAe,CAAC6B,KAAD,CAAf;AACD;AACF,aAPH;AAQE,YAAA,KAAK,EACH9B,YAAY,CAACE,EAAb,IAAmB4B,KAAK,CAAC5B,EAAzB,IACAO,UAAU,KAAK,IADf,GAEI8C,kBAFJ,GAGIC;AAZR,aAeE,MAAC,IAAD,CAAM,IAAN;AAAW,YAAA,IAAI,EAAC;AAAhB,YAfF,EAgBE,MAAC,IAAD,CAAM,OAAN,QACE,MAAC,IAAD,CAAM,MAAN;AAAa,YAAA,EAAE,EAAC;AAAhB,aAAqB1B,KAAK,CAAC3B,IAA3B,CADF,CAhBF,EAmBGsD,gBAAgB,CAAC3B,KAAD,CAnBnB,CAHH,CADH,CADF;AAFK;AAHX,OAtCM;AAXV,MAhCF,EAwHE;AACE,MAAA,KAAK,EAAE;AACL4B,QAAAA,QAAQ,EAAE,UADL;AAELd,QAAAA,KAAK,EAAE,mBAFF;AAGLe,QAAAA,MAAM,EAAE;AAHH;AADT,OAOGvB,kBAAkB,EAPrB,CAxHF,CADK,GAoIL;AAAK,MAAA,KAAK,EAAE;AAAEK,QAAAA,MAAM,EAAE,MAAV;AAAkBC,QAAAA,UAAU,EAAE;AAA9B;AAAZ,OACE,MAAC,MAAD,CAAQ,KAAR;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY,EAAE,EAAhB;AAAoBC,QAAAA,KAAK,EAAE;AAA3B,OAFT;AAGE,MAAA,KAAK;AAHP,OAKE,MAAC,MAAD;AACE,MAAA,OAAO,MADT;AAEE,MAAA,IAAI,EAAC,YAFP;AAGE,MAAA,OAAO,EAAExC,YAAY,CAACD,IAHxB;AAIE,MAAA,KAAK,EAAE;AACLmC,QAAAA,QAAQ,EAAE,OADL;AAELO,QAAAA,SAAS,EAAE,MAFN;AAGLD,QAAAA,KAAK,EAAE,KAHF;AAILD,QAAAA,YAAY,EAAE,IAJT;AAKLG,QAAAA,QAAQ,EAAE;AALL,OAJT;AAWE,MAAA,OAAO,EAAElB;AAXX,MALF,EAkBE,MAAC,MAAD;AACE,MAAA,OAAO,MADT;AAEE,MAAA,IAAI,EAAC,SAFP;AAGE,MAAA,KAAK,EAAE;AACLU,QAAAA,QAAQ,EAAE,OADL;AAELO,QAAAA,SAAS,EAAE,QAFN;AAGLD,QAAAA,KAAK,EAAE,KAHF;AAILD,QAAAA,YAAY,EAAE,IAJT;AAKLG,QAAAA,QAAQ,EAAE;AALL;AAHT,MAlBF,CADF,EA+BGC,UAAU,EA/Bb,EAgCE,MAAC,SAAD;AACE,MAAA,KAAK,MADP;AAEE,MAAA,SAAS,EAAE,KAFb;AAGE,MAAA,kBAAkB,EAAE,CAAC,CAAD,EAAI,CAAJ,CAHtB;AAIE,MAAA,KAAK,EAAE;AACLT,QAAAA,QAAQ,EAAE,KADL;AAELO,QAAAA,SAAS,EAAE,MAFN;AAGLD,QAAAA,KAAK,EAAE,MAHF;AAILD,QAAAA,YAAY,EAAE,IAJT;AAKLG,QAAAA,QAAQ,EAAE;AALL,OAJT;AAWE,MAAA,MAAM,EAAE,CACN;AACEE,QAAAA,GAAG,EAAE,aADP;AAEEC,QAAAA,KAAK,EAAE,aAFT;AAGEC,QAAAA,OAAO,EAAE;AACPA,UAAAA,OAAO,EACL;AAAK,YAAA,KAAK,EAAE;AAAEC,cAAAA,WAAW,EAAE;AAAf;AAAZ,aACE,MAAC,IAAD;AAAM,YAAA,OAAO,MAAb;AAAc,YAAA,SAAS;AAAvB,aACG/C,YAAY,CAACE,MAAb,CACE8C,MADF,CACUtB,KAAD,IAAWA,KAAK,CAACuB,IAAN,KAAe,YADnC,EAEEC,GAFF,CAEOxB,KAAD,IACH,4BACA,MAAC,IAAD,CAAM,IAAN;AACE,YAAA,GAAG,EAAG,cAAaA,KAAK,CAAC5B,EAAG,EAD9B;AAEE,YAAA,OAAO,EAAE,MAAM;AACb,kBAAIF,YAAY,CAACE,EAAb,KAAoB4B,KAAK,CAAC5B,EAA9B,EAAkC;AAChC2B,gBAAAA,iBAAiB,CAACC,KAAD,CAAjB;AACA7B,gBAAAA,eAAe,CAAC6B,KAAD,CAAf;AACD;AACF,aAPH;AAQE,YAAA,KAAK,EACH9B,YAAY,CAACE,EAAb,IAAmB4B,KAAK,CAAC5B,EAAzB,IACAO,UAAU,KAAK,IADf,GAEI8C,kBAFJ,GAGIC;AAZR,aAeE,MAAC,IAAD,CAAM,IAAN;AAAW,YAAA,IAAI,EAAC;AAAhB,YAfF,EAgBE,MAAC,IAAD,CAAM,OAAN,QACE,MAAC,IAAD,CAAM,MAAN;AAAa,YAAA,EAAE,EAAC;AAAhB,aAAqB1B,KAAK,CAAC3B,IAA3B,CADF,CAhBF,EAmBGsD,gBAAgB,CAAC3B,KAAD,CAnBnB,CADA,EAsBA,MAAC,MAAD;AAAQ,YAAA,EAAE,EAAK,eAAcA,KAAK,CAAC5B,EAAG,EAAtC;AAAyC,YAAA,OAAO,MAAhD;AAAiD,YAAA,IAAI,MAArD;AAAsD,YAAA,IAAI,EAAG,MAA7D;AAAoE,YAAA,OAAO,EAAG,OAA9E;AACA,YAAA,KAAK,EAAG;AACN0D,cAAAA,OAAO,EAAG,GAAE9D,OAAO,CAACA,OAAQ,EADtB;AAENwC,cAAAA,QAAQ,EAAE,MAFJ;AAGNO,cAAAA,SAAS,EAAE,QAHL;AAIND,cAAAA,KAAK,EAAE,KAJD;AAKND,cAAAA,YAAY,EAAE,IALR;AAMNG,cAAAA,QAAQ,EAAE,MANJ;AAONe,cAAAA,eAAe,EAAE;AAPX,aADR;AAUA,YAAA,OAAO,EAAG,MAAM;AACdxE,cAAAA,GAAG,CAACyE,WAAJ,CAAgBjD,OAAhB,EAAyBiB,KAAK,CAAC5B,EAA/B;AACD;AAZD,aAaE,MAAC,IAAD;AAAM,YAAA,IAAI,EAAG,QAAb;AAAsB,YAAA,KAAK,EAAG;AAA9B,YAbF,CAtBA,CAHH,CADH,CADF;AAFK;AAHX,OADM,EAuDN;AACE8C,QAAAA,GAAG,EAAE,gBADP;AAEEC,QAAAA,KAAK,EAAE,gBAFT;AAGEC,QAAAA,OAAO,EAAE;AACPA,UAAAA,OAAO,EACL;AAAK,YAAA,KAAK,EAAE;AAAEC,cAAAA,WAAW,EAAE;AAAf;AAAZ,aACE,MAAC,IAAD;AAAM,YAAA,OAAO,MAAb;AAAc,YAAA,SAAS;AAAvB,aACG/C,YAAY,CAACE,MAAb,CACE8C,MADF,CACUtB,KAAD,IAAWA,KAAK,CAACuB,IAAN,KAAe,OADnC,EAEEC,GAFF,CAEOxB,KAAD,IACH,MAAC,IAAD,CAAM,IAAN;AACE,YAAA,GAAG,EAAG,iBAAgBA,KAAK,CAAC5B,EAAG,EADjC;AAEE,YAAA,OAAO,EAAE,MAAM;AACb,kBAAIF,YAAY,CAACE,EAAb,KAAoB4B,KAAK,CAAC5B,EAA9B,EAAkC;AAChC2B,gBAAAA,iBAAiB,CAACC,KAAD,CAAjB;AACA7B,gBAAAA,eAAe,CAAC6B,KAAD,CAAf;AACD;AACF,aAPH;AAQE,YAAA,KAAK,EACH9B,YAAY,CAACE,EAAb,IAAmB4B,KAAK,CAAC5B,EAAzB,IACAO,UAAU,KAAK,IADf,GAEI8C,kBAFJ,GAGIC;AAZR,aAeE,MAAC,IAAD,CAAM,IAAN;AAAW,YAAA,IAAI,EAAC;AAAhB,YAfF,EAgBE,MAAC,IAAD,CAAM,OAAN,QACE,MAAC,IAAD,CAAM,MAAN;AAAa,YAAA,EAAE,EAAC;AAAhB,aAAqB1B,KAAK,CAAC3B,IAA3B,CADF,CAhBF,EAmBGsD,gBAAgB,CAAC3B,KAAD,CAnBnB,CAHH,CADH,CADF;AAFK;AAHX,OAvDM;AAXV,MAhCF,EAyIE;AACE,MAAA,KAAK,EAAE;AACL4B,QAAAA,QAAQ,EAAE,UADL;AAELd,QAAAA,KAAK,EAAE,mBAFF;AAGLe,QAAAA,MAAM,EAAE;AAHH;AADT,OAOGvB,kBAAkB,EAPrB,CAzIF,CApIF;AAwRD;;AAED,WAASW,UAAT,GAAsB;AACpB,WACE,CAAC3C,YAAY,CAACI,IAAb,KAAsB,SAAtB,IAAmCR,YAAY,CAACqD,IAAb,KAAsB,QAA1D,KACE;AAAK,MAAA,KAAK,EAAE;AAAEF,QAAAA,WAAW,EAAE;AAAf;AAAZ,OACE,MAAC,IAAD;AAAM,MAAA,OAAO,MAAb;AAAc,MAAA,SAAS,MAAvB;AAAwB,MAAA,aAAa,EAAC;AAAtC,OACG/C,YAAY,CAACE,MAAb,CACE8C,MADF,CACUtB,KAAD,IAAWA,KAAK,CAACuB,IAAN,KAAe,QADnC,EAEEC,GAFF,CAEOxB,KAAD,IACH,MAAC,IAAD,CAAM,IAAN;AACE,MAAA,GAAG,EAAG,QADR;AAEE,MAAA,OAAO,EAAE,MAAM;AACb,YAAI9B,YAAY,CAACE,EAAb,KAAoB4B,KAAK,CAAC5B,EAA9B,EAAkC;AAChC2B,UAAAA,iBAAiB,CAACC,KAAD,CAAjB;AACA7B,UAAAA,eAAe,CAAC6B,KAAD,CAAf;AACD,SAHD,MAGO;AACLlB,UAAAA,cAAc,CAAC,IAAD,CAAd;AACD;AACF,OATH;AAUE,MAAA,KAAK,EACHZ,YAAY,CAACE,EAAb,IAAmB4B,KAAK,CAAC5B,EAAzB,IAA+BO,UAAU,KAAK,IAA9C,GACI8C,kBADJ,GAEIC;AAbR,OAgBE,MAAC,IAAD,CAAM,IAAN;AAAW,MAAA,IAAI,EAAC;AAAhB,MAhBF,EAiBE,MAAC,IAAD,CAAM,OAAN,QACE,MAAC,IAAD,CAAM,MAAN;AAAa,MAAA,EAAE,EAAC;AAAhB,mBADF,CAjBF,EAoBGC,gBAAgB,CAAC3B,KAAD,CApBnB,CAHH,CADH,CADF,CAFJ;AAkCD;;AAED,QAAMO,iBAAiB,GAAG,MAAOP,KAAP,IAAiB;AACzC,UAAMzC,GAAG,CAAC0E,SAAJ,CAAclD,OAAd,EAAuBiB,KAAK,CAAC3B,IAA7B,EAAmC2B,KAAK,CAACuB,IAAzC,EAA+ClC,IAA/C,CAAqDW,KAAD,IAAW;AACnEb,MAAAA,iBAAiB;AACjBY,MAAAA,iBAAiB,CAACC,KAAD,CAAjB;AACA7B,MAAAA,eAAe,CAAC6B,KAAD,CAAf;AACD,KAJK,CAAN;AAKD,GAND;;AAQA,WAAS2B,gBAAT,CAA0B3B,KAA1B,EAAiC;AAC/B,WAAO9B,YAAY,CAACE,EAAb,IAAmB4B,KAAK,CAAC5B,EAAzB,IAA+BO,UAAU,KAAK,IAA9C,GACHM,QADG,GAEHC,UAFJ;AAGD;;AAED,QAAMgD,YAAY,GAAG,MAAM;AACzBpD,IAAAA,cAAc,CAAC,KAAD,CAAd;AACD,GAFD;;AAIA,SACE,MAAC,MAAD;AACE,IAAA,IAAI,EACF4B,WAAW,EAFf;AAIE,IAAA,KAAK,EAAE,MAAC,KAAD;AAAO,MAAA,MAAM,EAAEN,YAAf;AAA6B,MAAA,YAAY,EAAElC;AAA3C;AAJT,KAMGS,UAAU,IACT,MAAC,MAAD;AACE,IAAA,SAAS,EAAEA,UAAU,CAACwB,SADxB;AAEE,IAAA,KAAK,EAAExB,UAAU,CAACuB,KAFpB;AAGE,IAAA,OAAO,EAAE,MAAM;AACbtB,MAAAA,aAAa,CAAC,IAAD,CAAb;AACAT,MAAAA,eAAe,CAAC;AAAEC,QAAAA,EAAE,EAAE,EAAN;AAAUC,QAAAA,IAAI,EAAE;AAAhB,OAAD,CAAf;AACD;AANH,IAPJ,EAgBE,MAAC,kBAAD;AAAoB,IAAA,MAAM,EAAEQ,eAA5B;AAA6C,IAAA,QAAQ,EAAEqD;AAAvD,IAhBF,CADF;AAoBD;;AAED,MAAMR,oBAAoB,GAAG;AAC3BlB,EAAAA,QAAQ,EAAE,MADiB;AAE3BO,EAAAA,SAAS,EAAE,MAFgB;AAG3BD,EAAAA,KAAK,EAAE,KAHoB;AAI3BD,EAAAA,YAAY,EAAE,IAJa;AAK3BG,EAAAA,QAAQ,EAAE,MALiB;AAM3Bc,EAAAA,OAAO,EAAE;AANkB,CAA7B;AAQA,MAAML,kBAAkB,GAAG;AACzBjB,EAAAA,QAAQ,EAAE,MADe;AAEzBO,EAAAA,SAAS,EAAE,MAFc;AAGzBD,EAAAA,KAAK,EAAE,KAHkB;AAIzBD,EAAAA,YAAY,EAAE,IAJW;AAKzBG,EAAAA,QAAQ,EAAE,MALe;AAMzBmB,EAAAA,UAAU,EAAE,SANa;AAOzBC,EAAAA,YAAY,EAAE,EAPW;AAQzBC,EAAAA,WAAW,EAAE,CARY;AASzBC,EAAAA,WAAW,EAAE,MATY;AAUzBR,EAAAA,OAAO,EAAE;AAVgB,CAA3B;AAaA,eAAe1E,YAAY,CAACS,SAAD,CAA3B","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useRouter } from 'next/router'\nimport dynamic from 'next/dynamic'\nimport Layout from '../../components/layout'\nimport { Button, Accordion, List, Icon } from 'semantic-ui-react'\nimport { AuthRequired, useAuth } from '../../components/authProvider'\nimport Queue from '../../components/queue/queue'\nimport * as api from '../../util/mercuryService'\nimport CreateGroupModal from '../../components/createGroupModal'\nimport StudentInviteModal from '../../components/studentInviteModal'\n//import CreateDiscussionModal from '../../components/createDiscussionModal'\nconst CreateDiscussionModal = dynamic(() => import('../../components/createDiscussionModal'), {\n  ssr: false,\n})\nconst Vonage = dynamic(() => import('../../components/vonage'), {\n  ssr: false,\n})\n\nfunction ClassPage() {\n  const router = useRouter()\n  const { user } = useAuth()\n  const [clicked, setClicked] = useState({clicked: 'none'})\n  const [currentGroup, setCurrentGroup] = useState({ id: '', name: '' })\n  const [currentClass, setCurrentClass] = useState({\n    id: '',\n    name: '',\n    groups: [],\n    users: [],\n    role: 'Student',\n  })\n  const [vonageCred, setVonageCred] = useState(null)\n  const [openInviteModal, setInviteModal] = useState(false)\n  const { classId } = router.query\n  const plusIcon = <List.Icon name=\"user plus\" size=\"med\" />\n  const noPlusIcon = <div></div>\n\n  const fetchCurrentClass = () => {\n    api\n      .getClass(classId)\n      .then((c) => {\n        const userRole = c.users.find((u) => u.id === user.id)\n        if (!userRole) router.push('/calendar')\n\n        setCurrentClass({ ...c, role: userRole.role })\n      })\n      .catch(console.error)\n  }\n\n  useEffect(() => {\n    if (!classId) return\n\n    api\n      .getClass(classId)\n      .then((c) => {\n        const userRole = c.users.find((u) => u.id === user.id)\n        if (!userRole) router.push('/calendar')\n\n        setCurrentClass({ ...c, role: userRole.role })\n      })\n      .catch(console.error)\n  })\n\n  const handleBack = async () => {\n    await router.push('/calendar')\n  }\n\n  const handleSelectGroup = (group) => {\n    api\n      .postGroupToken(classId, group.id)\n      .then(({ token }) => {\n        setVonageCred(null)\n        setVonageCred({ sessionId: group.sessionId, token })\n      })\n      .catch(console.error)\n  }\n\n  const handleJoinTA = (group) => {\n    handleSelectGroup(group)\n    setCurrentGroup(group)\n  }\n\n  var buttonClicked = 'false'\n\n  function getButtonToDisplay() {\n    return currentClass.role === 'Student' ? (\n      <CreateGroupModal onCreate={handleCreateGroup} />\n    ) : currentClass.role === 'Professor' &&  clicked.clicked === 'none' ? (\n      <Button\n        color=\"teal\"\n        content=\"Modify Discussions\"\n        fluid\n        style={{ fontSize: '1vw' }}\n        onClick={() => {clicked.clicked = 'inline'}}\n      />\n    ) : (\n      <>\n      <CreateDiscussionModal id = 'createDiscussionModal' onCreate={handleCreateGroup}/>\n      <Button\n        color=\"teal\"\n        content=\"Exit Modify Discussions\"\n        fluid\n        style={{ fontSize: '1vw', marginTop: '2%' }}\n        onClick={() => {clicked.clicked = 'none'}}\n      />\n      </>\n    )\n  }\n\n  function leftDisplay() {\n    return currentClass.role === 'Student' ? (\n      <div style={{ height: '100%', marginLeft: '2.5%' }}>\n        <Button.Group\n          size=\"huge\"\n          style={{ marginBottom: 12, width: '100%' }}\n          fluid\n        >\n          <Button\n            compact\n            icon=\"angle left\"\n            content={currentClass.name}\n            style={{\n              fontSize: '1.5vw',\n              textAlign: 'left',\n              width: '75%',\n              marginBottom: '2%',\n              minWidth: '41px',\n            }}\n            onClick={handleBack}\n          />\n          <Button\n            compact\n            icon=\"setting\"\n            style={{\n              fontSize: '1.5vw',\n              textAlign: 'center',\n              width: '15%',\n              marginBottom: '2%',\n              minWidth: '14px',\n            }}\n          />\n        </Button.Group>\n        {showOffice()}\n        <Accordion\n          fluid\n          exclusive={false}\n          defaultActiveIndex={[0, 1]}\n          style={{\n            fontSize: '1vw',\n            textAlign: 'left',\n            width: '100%',\n            marginBottom: '2%',\n            minWidth: '41px',\n          }}\n          panels={[\n            {\n              key: 'discussions',\n              title: 'Discussions',\n              content: {\n                content: (\n                  <div style={{ paddingLeft: 20 }}>\n                    <List relaxed selection>\n                      {currentClass.groups\n                        .filter((group) => group.type === 'discussion')\n                        .map((group) => (\n                          <List.Item\n                            key={`discussion_${group.id}`}\n                            onClick={() => {\n                              if (currentGroup.id !== group.id) {\n                                handleSelectGroup(group)\n                                setCurrentGroup(group)\n                              }\n                            }}\n                            style={\n                              currentGroup.id == group.id &&\n                              vonageCred !== null\n                                ? clickedGroupsStyle\n                                : unClickedGroupsStyle\n                            }\n                          >\n                            <List.Icon name=\"sound\" />\n                            <List.Content>\n                              <List.Header as=\"a\">{group.name}</List.Header>\n                            </List.Content>\n                            {showInviteButton(group)}\n                          </List.Item>\n                        ))}\n                    </List>\n                  </div>\n                ),\n              },\n            },\n            {\n              key: 'private-groups',\n              title: 'Private Groups',\n              content: {\n                content: (\n                  <div style={{ paddingLeft: 20 }}>\n                    <List relaxed selection>\n                      {currentClass.groups\n                        .filter((group) => group.type === 'group')\n                        .map((group) => (\n                          <List.Item\n                            key={`private_group_${group.id}`}\n                            onClick={() => {\n                              if (currentGroup.id !== group.id) {\n                                handleSelectGroup(group)\n                                setCurrentGroup(group)\n                              }\n                            }}\n                            style={\n                              currentGroup.id == group.id &&\n                              vonageCred !== null\n                                ? clickedGroupsStyle\n                                : unClickedGroupsStyle\n                            }\n                          >\n                            <List.Icon name=\"lock\" />\n                            <List.Content>\n                              <List.Header as=\"a\">{group.name}</List.Header>\n                            </List.Content>\n                            {showInviteButton(group)}\n                          </List.Item>\n                        ))}\n                    </List>\n                  </div>\n                ),\n              },\n            },\n          ]}\n        />\n        <div\n          style={{\n            position: 'absolute',\n            width: 'calc(100% - 38px)',\n            bottom: 14,\n          }}\n        >\n          {getButtonToDisplay()}\n        </div>\n      </div>\n    ) : (\n      <div style={{ height: '100%', marginLeft: '2.5%' }}>\n        <Button.Group\n          size=\"huge\"\n          style={{ marginBottom: 12, width: '100%' }}\n          fluid\n        >\n          <Button\n            compact\n            icon=\"angle left\"\n            content={currentClass.name}\n            style={{\n              fontSize: '1.5vw',\n              textAlign: 'left',\n              width: '75%',\n              marginBottom: '2%',\n              minWidth: '41px',\n            }}\n            onClick={handleBack}\n          />\n          <Button\n            compact\n            icon=\"setting\"\n            style={{\n              fontSize: '1.5vw',\n              textAlign: 'center',\n              width: '15%',\n              marginBottom: '2%',\n              minWidth: '14px',\n            }}\n          />\n        </Button.Group>\n        {showOffice()}\n        <Accordion\n          fluid\n          exclusive={false}\n          defaultActiveIndex={[0, 1]}\n          style={{\n            fontSize: '1vw',\n            textAlign: 'left',\n            width: '100%',\n            marginBottom: '2%',\n            minWidth: '41px',\n          }}\n          panels={[\n            {\n              key: 'discussions',\n              title: 'Discussions',\n              content: {\n                content: (\n                  <div style={{ paddingLeft: 20 }}>\n                    <List relaxed selection>\n                      {currentClass.groups\n                        .filter((group) => group.type === 'discussion')\n                        .map((group) => (\n                          <>\n                          <List.Item\n                            key={`discussion_${group.id}`}\n                            onClick={() => {\n                              if (currentGroup.id !== group.id) {\n                                handleSelectGroup(group)\n                                setCurrentGroup(group)\n                              }\n                            }}\n                            style={\n                              currentGroup.id == group.id &&\n                              vonageCred !== null\n                                ? clickedGroupsStyle\n                                : unClickedGroupsStyle\n                            }\n                          >\n                            <List.Icon name=\"sound\" />\n                            <List.Content>\n                              <List.Header as=\"a\">{group.name}</List.Header>\n                            </List.Content>\n                            {showInviteButton(group)}\n                          </List.Item>\n                          <Button id = {`deletebutton${group.id}`} compact icon size = 'mini' floated = 'right'\n                          style ={{\n                            display: `${clicked.clicked}`,\n                            fontSize: '.6vw',\n                            textAlign: 'center',\n                            width: '10%',\n                            marginBottom: '2%',\n                            minWidth: '10px',\n                            backgroundColor: 'transparent',\n                          }}\n                          onClick={ () => {\n                            api.deleteGroup(classId, group.id)\n                          }}>\n                            <Icon name = 'delete' color = 'red' />\n                          </Button>\n                          </>\n                        ))}\n                    </List>\n                  </div>\n                ),\n              },\n            },\n            {\n              key: 'private-groups',\n              title: 'Private Groups',\n              content: {\n                content: (\n                  <div style={{ paddingLeft: 20 }}>\n                    <List relaxed selection>\n                      {currentClass.groups\n                        .filter((group) => group.type === 'group')\n                        .map((group) => (\n                          <List.Item\n                            key={`private_group_${group.id}`}\n                            onClick={() => {\n                              if (currentGroup.id !== group.id) {\n                                handleSelectGroup(group)\n                                setCurrentGroup(group)\n                              }\n                            }}\n                            style={\n                              currentGroup.id == group.id &&\n                              vonageCred !== null\n                                ? clickedGroupsStyle\n                                : unClickedGroupsStyle\n                            }\n                          >\n                            <List.Icon name=\"lock\" />\n                            <List.Content>\n                              <List.Header as=\"a\">{group.name}</List.Header>\n                            </List.Content>\n                            {showInviteButton(group)}\n                          </List.Item>\n                        ))}\n                    </List>\n                  </div>\n                ),\n              },\n            },\n          ]}\n        />\n        <div\n          style={{\n            position: 'absolute',\n            width: 'calc(100% - 38px)',\n            bottom: 14,\n          }}\n        >\n          {getButtonToDisplay()}\n        </div>\n      </div>\n    )\n  }\n\n  function showOffice() {\n    return (\n      (currentClass.role !== 'Student' || currentGroup.type === 'office') && (\n        <div style={{ paddingLeft: 20 }}>\n          <List relaxed selection verticalAlign=\"middle\">\n            {currentClass.groups\n              .filter((group) => group.type === 'office')\n              .map((group) => (\n                <List.Item\n                  key={`office`}\n                  onClick={() => {\n                    if (currentGroup.id !== group.id) {\n                      handleSelectGroup(group)\n                      setCurrentGroup(group)\n                    } else {\n                      setInviteModal(true)\n                    }\n                  }}\n                  style={\n                    currentGroup.id == group.id && vonageCred !== null\n                      ? clickedGroupsStyle\n                      : unClickedGroupsStyle\n                  }\n                >\n                  <List.Icon name=\"graduation cap\" />\n                  <List.Content>\n                    <List.Header as=\"a\">TA Office</List.Header>\n                  </List.Content>\n                  {showInviteButton(group)}\n                </List.Item>\n              ))}\n          </List>\n        </div>\n      )\n    )\n  }\n\n  const handleCreateGroup = async (group) => {\n    await api.postGroup(classId, group.name, group.type).then((group) => {\n      fetchCurrentClass()\n      handleSelectGroup(group)\n      setCurrentGroup(group)\n    })\n  }\n\n  function showInviteButton(group) {\n    return currentGroup.id == group.id && vonageCred !== null\n      ? plusIcon\n      : noPlusIcon\n  }\n\n  const handleInvite = () => {\n    setInviteModal(false)\n  }\n\n  return (\n    <Layout\n      left={\n        leftDisplay()\n      }\n      right={<Queue onJoin={handleJoinTA} currentGroup={currentGroup} />}\n    >\n      {vonageCred && (\n        <Vonage\n          sessionId={vonageCred.sessionId}\n          token={vonageCred.token}\n          onLeave={() => {\n            setVonageCred(null)\n            setCurrentGroup({ id: '', name: '' })\n          }}\n        />\n      )}\n      <StudentInviteModal isOpen={openInviteModal} onInvite={handleInvite} />\n    </Layout>\n  )\n}\n\nconst unClickedGroupsStyle = {\n  fontSize: '.8vw',\n  textAlign: 'left',\n  width: '80%',\n  marginBottom: '2%',\n  minWidth: '41px',\n  display: 'inline-block'\n}\nconst clickedGroupsStyle = {\n  fontSize: '.8vw',\n  textAlign: 'left',\n  width: '80%',\n  marginBottom: '2%',\n  minWidth: '41px',\n  background: '#e0e1e2',\n  borderRadius: 10,\n  borderWidth: 1,\n  borderColor: '#fff',\n  display: 'inline-block'\n}\n\nexport default AuthRequired(ClassPage)\n"]},"metadata":{},"sourceType":"module"}