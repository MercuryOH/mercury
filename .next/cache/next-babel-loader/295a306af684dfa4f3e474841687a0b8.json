{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter } from 'next/router';\nimport dynamic from 'next/dynamic';\nimport Layout from '../../components/layout';\nimport { Button, Accordion, List, Icon } from 'semantic-ui-react';\nimport { AuthRequired, useAuth } from '../../components/authProvider';\nimport Queue from '../../components/queue/queue';\nimport * as api from '../../util/mercuryService';\nimport CreateGroupModal from '../../components/createGroupModal';\nimport ModifyDiscussionModal from '../../components/modifyDiscussionModal';\nvar Vonage = dynamic(_c = function _c() {\n  return import('../../components/vonage');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('../../components/vonage')];\n    },\n    modules: ['../../components/vonage']\n  }\n});\n_c2 = Vonage;\n\nfunction ClassPage() {\n  _s();\n\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user;\n\n  var _useState = useState({\n    id: '',\n    name: ''\n  }),\n      currentGroup = _useState[0],\n      setCurrentGroup = _useState[1];\n\n  var _useState2 = useState({\n    id: '',\n    name: '',\n    groups: [],\n    users: [],\n    role: 'Student'\n  }),\n      currentClass = _useState2[0],\n      setCurrentClass = _useState2[1];\n\n  var _useState3 = useState(null),\n      vonageCred = _useState3[0],\n      setVonageCred = _useState3[1];\n\n  var classId = router.query.classId;\n\n  var plusIcon = __jsx(List.Icon, {\n    name: \"user plus\",\n    size: \"med\"\n  });\n\n  var noPlusIcon = __jsx(\"div\", null);\n\n  var fetchCurrentClass = function fetchCurrentClass() {\n    api.getClass(classId).then(function (currentClass) {\n      return setCurrentClass(currentClass);\n    })[\"catch\"](console.error);\n  };\n\n  useEffect(function () {\n    if (!classId) return;\n    api.getClass(classId).then(function (c) {\n      var userRole = c.users.find(function (u) {\n        return u.id === user.id;\n      });\n      if (!userRole) router.push('/calendar');\n      setCurrentClass(_objectSpread(_objectSpread({}, c), {}, {\n        role: userRole.role\n      }));\n    })[\"catch\"](console.error);\n  }, [classId]);\n\n  var handleBack = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return router.push('/calendar');\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleBack() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleSelectGroup = function handleSelectGroup(group) {\n    api.postGroupToken(classId, group.id).then(function (_ref2) {\n      var token = _ref2.token;\n      setVonageCred(null);\n      setVonageCred({\n        sessionId: group.sessionId,\n        token: token\n      });\n    })[\"catch\"](console.error);\n  };\n\n  var handleJoinTA = function handleJoinTA(group) {\n    handleSelectGroup(group);\n    setCurrentGroup(group);\n  };\n\n  function getButtonToDisplay() {\n    return currentClass.role === 'Student' ? __jsx(CreateGroupModal, {\n      onCreate: handleCreateGroup\n    }) : __jsx(ModifyDiscussionModal, {\n      onCreate: handleCreateGroup\n    });\n  }\n\n  function leftDisplay() {\n    return currentClass.role === 'Student' ? __jsx(\"div\", {\n      style: {\n        height: '100%',\n        marginLeft: '2.5%'\n      }\n    }, __jsx(Button.Group, {\n      size: \"huge\",\n      style: {\n        marginBottom: 12,\n        width: '100%'\n      },\n      fluid: true\n    }, __jsx(Button, {\n      compact: true,\n      icon: \"angle left\",\n      content: currentClass.name,\n      style: {\n        fontSize: '1.5vw',\n        textAlign: 'left',\n        width: '75%',\n        marginBottom: '2%',\n        minWidth: '41px'\n      },\n      onClick: handleBack\n    }), __jsx(Button, {\n      compact: true,\n      icon: \"setting\",\n      style: {\n        fontSize: '1.5vw',\n        textAlign: 'center',\n        width: '15%',\n        marginBottom: '2%',\n        minWidth: '14px'\n      }\n    })), showOffice(), __jsx(Accordion, {\n      fluid: true,\n      exclusive: false,\n      defaultActiveIndex: [0, 1],\n      style: {\n        fontSize: '1vw',\n        textAlign: 'left',\n        width: '100%',\n        marginBottom: '2%',\n        minWidth: '41px'\n      },\n      panels: [{\n        key: 'discussions',\n        title: 'Discussions',\n        content: {\n          content: __jsx(\"div\", {\n            style: {\n              paddingLeft: 20\n            }\n          }, __jsx(List, {\n            relaxed: true,\n            selection: true\n          }, currentClass.groups.filter(function (group) {\n            return group.type === 'discussion';\n          }).map(function (group) {\n            return __jsx(List.Item, {\n              key: \"discussion_\".concat(group.id),\n              onClick: function onClick() {\n                if (currentGroup.id !== group.id) {\n                  handleSelectGroup(group);\n                  setCurrentGroup(group);\n                }\n              },\n              style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n            }, __jsx(List.Icon, {\n              name: \"sound\"\n            }), __jsx(List.Content, null, __jsx(List.Header, {\n              as: \"a\"\n            }, group.name)), showInviteButton(group));\n          })))\n        }\n      }, {\n        key: 'private-groups',\n        title: 'Private Groups',\n        content: {\n          content: __jsx(\"div\", {\n            style: {\n              paddingLeft: 20\n            }\n          }, __jsx(List, {\n            relaxed: true,\n            selection: true\n          }, currentClass.groups.filter(function (group) {\n            return group.type === 'group';\n          }).map(function (group) {\n            return __jsx(List.Item, {\n              key: \"private_group_\".concat(group.id),\n              onClick: function onClick() {\n                if (currentGroup.id !== group.id) {\n                  handleSelectGroup(group);\n                  setCurrentGroup(group);\n                }\n              },\n              style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n            }, __jsx(List.Icon, {\n              name: \"lock\"\n            }), __jsx(List.Content, null, __jsx(List.Header, {\n              as: \"a\"\n            }, group.name)), showInviteButton(group));\n          })))\n        }\n      }]\n    }), __jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        width: 'calc(100% - 38px)',\n        bottom: 14\n      }\n    }, getButtonToDisplay())) : __jsx(\"div\", {\n      style: {\n        height: '100%',\n        marginLeft: '2.5%'\n      }\n    }, __jsx(Button.Group, {\n      size: \"huge\",\n      style: {\n        marginBottom: 12,\n        width: '100%'\n      },\n      fluid: true\n    }, __jsx(Button, {\n      compact: true,\n      icon: \"angle left\",\n      content: currentClass.name,\n      style: {\n        fontSize: '1.5vw',\n        textAlign: 'left',\n        width: '75%',\n        marginBottom: '2%',\n        minWidth: '41px'\n      },\n      onClick: handleBack\n    }), __jsx(Button, {\n      compact: true,\n      icon: \"setting\",\n      style: {\n        fontSize: '1.5vw',\n        textAlign: 'center',\n        width: '15%',\n        marginBottom: '2%',\n        minWidth: '14px'\n      }\n    })), showOffice(), __jsx(Accordion, {\n      fluid: true,\n      exclusive: false,\n      defaultActiveIndex: [0, 1],\n      style: {\n        fontSize: '1vw',\n        textAlign: 'left',\n        width: '100%',\n        marginBottom: '2%',\n        minWidth: '41px'\n      },\n      panels: [{\n        key: 'discussions',\n        title: 'Discussions',\n        content: {\n          content: __jsx(\"div\", {\n            style: {\n              paddingLeft: 20\n            }\n          }, __jsx(List, {\n            relaxed: true,\n            selection: true\n          }, currentClass.groups.filter(function (group) {\n            return group.type === 'discussion';\n          }).map(function (group) {\n            return __jsx(List.Item, {\n              key: \"discussion_\".concat(group.id),\n              onClick: function onClick() {\n                if (currentGroup.id !== group.id) {\n                  handleSelectGroup(group);\n                  setCurrentGroup(group);\n                }\n              },\n              style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n            }, __jsx(List.Icon, {\n              name: \"sound\"\n            }), __jsx(List.Content, null, __jsx(List.Header, {\n              as: \"a\"\n            }, group.name)), showInviteButton(group), __jsx(Button, {\n              icon: true\n            }, __jsx(Icon, {\n              name: \"delete\",\n              color: \"red\"\n            })));\n          })))\n        }\n      }, {\n        key: 'private-groups',\n        title: 'Private Groups',\n        content: {\n          content: __jsx(\"div\", {\n            style: {\n              paddingLeft: 20\n            }\n          }, __jsx(List, {\n            relaxed: true,\n            selection: true\n          }, currentClass.groups.filter(function (group) {\n            return group.type === 'group';\n          }).map(function (group) {\n            return __jsx(List.Item, {\n              key: \"private_group_\".concat(group.id),\n              onClick: function onClick() {\n                if (currentGroup.id !== group.id) {\n                  handleSelectGroup(group);\n                  setCurrentGroup(group);\n                }\n              },\n              style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n            }, __jsx(List.Icon, {\n              name: \"lock\"\n            }), __jsx(List.Content, null, __jsx(List.Header, {\n              as: \"a\"\n            }, group.name)), showInviteButton(group));\n          })))\n        }\n      }]\n    }), __jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        width: 'calc(100% - 38px)',\n        bottom: 14\n      }\n    }, getButtonToDisplay()));\n  }\n\n  function showOffice() {\n    return (currentClass.role !== 'Student' || currentGroup.type === 'office') && __jsx(\"div\", {\n      style: {\n        paddingLeft: 20\n      }\n    }, __jsx(List, {\n      relaxed: true,\n      selection: true\n    }, currentClass.groups.filter(function (group) {\n      return group.type === 'office';\n    }).map(function (group) {\n      return __jsx(List.Item, {\n        key: \"office\",\n        onClick: function onClick() {\n          if (currentGroup.id !== group.id) {\n            handleSelectGroup(group);\n            setCurrentGroup(group);\n          }\n        },\n        style: currentGroup.id == group.id && vonageCred !== null ? clickedGroupsStyle : unClickedGroupsStyle\n      }, __jsx(List.Icon, {\n        name: \"graduation cap\"\n      }), __jsx(List.Content, null, __jsx(List.Header, {\n        as: \"a\"\n      }, \"TA Office\")), showInviteButton(group));\n    })));\n  }\n\n  var handleCreateGroup = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(group) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return api.postGroup(classId, group.name, group.type);\n\n            case 2:\n              fetchCurrentClass();\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleCreateGroup(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  function showInviteButton(group) {\n    return currentGroup.id == group.id && vonageCred !== null ? plusIcon : noPlusIcon;\n  }\n\n  return __jsx(Layout, {\n    left: leftDisplay()\n    /*<div style={{ height: '100%', marginLeft: '2.5%' }}>\n      <Button.Group\n        size=\"huge\"\n        style={{ marginBottom: 12, width: '100%' }}\n        fluid\n      >\n        <Button\n          compact\n          icon=\"angle left\"\n          content={currentClass.name}\n          style={{\n            fontSize: '1.5vw',\n            textAlign: 'left',\n            width: '75%',\n            marginBottom: '2%',\n            minWidth: '41px',\n          }}\n          onClick={handleBack}\n        />\n        <Button\n          compact\n          icon=\"setting\"\n          style={{\n            fontSize: '1.5vw',\n            textAlign: 'center',\n            width: '15%',\n            marginBottom: '2%',\n            minWidth: '14px',\n          }}\n        />\n      </Button.Group>\n      {showOffice()}\n      <Accordion\n        fluid\n        exclusive={false}\n        defaultActiveIndex={[0, 1]}\n        style={{\n          fontSize: '1vw',\n          textAlign: 'left',\n          width: '100%',\n          marginBottom: '2%',\n          minWidth: '41px',\n        }}\n        panels={[\n          {\n            key: 'discussions',\n            title: 'Discussions',\n            content: {\n              content: (\n                <div style={{ paddingLeft: 20 }}>\n                  <List relaxed selection>\n                    {currentClass.groups\n                      .filter((group) => group.type === 'discussion')\n                      .map((group) => (\n                        <List.Item\n                          key={`discussion_${group.id}`}\n                          onClick={() => {\n                            if (currentGroup.id !== group.id) {\n                              handleSelectGroup(group)\n                              setCurrentGroup(group)\n                            }\n                          }}\n                          style={\n                            currentGroup.id == group.id &&\n                            vonageCred !== null\n                              ? clickedGroupsStyle\n                              : unClickedGroupsStyle\n                          }\n                        >\n                          <List.Icon name=\"sound\" />\n                          <List.Content>\n                            <List.Header as=\"a\">{group.name}</List.Header>\n                          </List.Content>\n                          {showInviteButton(group)}\n                        </List.Item>\n                      ))}\n                  </List>\n                </div>\n              ),\n            },\n          },\n          {\n            key: 'private-groups',\n            title: 'Private Groups',\n            content: {\n              content: (\n                <div style={{ paddingLeft: 20 }}>\n                  <List relaxed selection>\n                    {currentClass.groups\n                      .filter((group) => group.type === 'group')\n                      .map((group) => (\n                        <List.Item\n                          key={`private_group_${group.id}`}\n                          onClick={() => {\n                            if (currentGroup.id !== group.id) {\n                              handleSelectGroup(group)\n                              setCurrentGroup(group)\n                            }\n                          }}\n                          style={\n                            currentGroup.id == group.id &&\n                            vonageCred !== null\n                              ? clickedGroupsStyle\n                              : unClickedGroupsStyle\n                          }\n                        >\n                          <List.Icon name=\"lock\" />\n                          <List.Content>\n                            <List.Header as=\"a\">{group.name}</List.Header>\n                          </List.Content>\n                          {showInviteButton(group)}\n                        </List.Item>\n                      ))}\n                  </List>\n                </div>\n              ),\n            },\n          },\n        ]}\n      />\n      <div\n        style={{\n          position: 'absolute',\n          width: 'calc(100% - 38px)',\n          bottom: 14,\n        }}\n      >\n        {getButtonToDisplay()}\n      </div>\n    </div>*/\n    ,\n    right: __jsx(Queue, {\n      onJoin: handleJoinTA,\n      currentGroup: currentGroup\n    })\n  }, vonageCred && __jsx(Vonage, {\n    sessionId: vonageCred.sessionId,\n    token: vonageCred.token,\n    onLeave: function onLeave() {\n      setVonageCred(null);\n      setCurrentGroup({\n        id: '',\n        name: ''\n      });\n    }\n  }));\n}\n\n_s(ClassPage, \"sfO++2ylNgChr6vkfsm1rHcUfB0=\", false, function () {\n  return [useRouter, useAuth];\n});\n\n_c3 = ClassPage;\nvar unClickedGroupsStyle = {\n  fontSize: '.8vw',\n  textAlign: 'left',\n  width: '75%',\n  marginBottom: '2%',\n  minWidth: '41px'\n};\nvar clickedGroupsStyle = {\n  fontSize: '.8vw',\n  textAlign: 'left',\n  width: '75%',\n  marginBottom: '2%',\n  minWidth: '41px',\n  background: '#e0e1e2',\n  borderRadius: 10,\n  borderWidth: 1,\n  borderColor: '#fff'\n};\nexport default _c4 = AuthRequired(ClassPage);\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Vonage$dynamic\");\n$RefreshReg$(_c2, \"Vonage\");\n$RefreshReg$(_c3, \"ClassPage\");\n$RefreshReg$(_c4, \"%default%\");","map":{"version":3,"sources":["C:/Users/ryanj/Documents/mercury/pages/classes/[classId].js"],"names":["React","useEffect","useState","useRouter","dynamic","Layout","Button","Accordion","List","Icon","AuthRequired","useAuth","Queue","api","CreateGroupModal","ModifyDiscussionModal","Vonage","ssr","ClassPage","router","user","id","name","currentGroup","setCurrentGroup","groups","users","role","currentClass","setCurrentClass","vonageCred","setVonageCred","classId","query","plusIcon","noPlusIcon","fetchCurrentClass","getClass","then","console","error","c","userRole","find","u","push","handleBack","handleSelectGroup","group","postGroupToken","token","sessionId","handleJoinTA","getButtonToDisplay","handleCreateGroup","leftDisplay","height","marginLeft","marginBottom","width","fontSize","textAlign","minWidth","showOffice","key","title","content","paddingLeft","filter","type","map","clickedGroupsStyle","unClickedGroupsStyle","showInviteButton","position","bottom","postGroup","background","borderRadius","borderWidth","borderColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useRouter } from 'next/router'\nimport dynamic from 'next/dynamic'\nimport Layout from '../../components/layout'\nimport { Button, Accordion, List, Icon } from 'semantic-ui-react'\nimport { AuthRequired, useAuth } from '../../components/authProvider'\nimport Queue from '../../components/queue/queue'\nimport * as api from '../../util/mercuryService'\nimport CreateGroupModal from '../../components/createGroupModal'\nimport ModifyDiscussionModal from '../../components/modifyDiscussionModal'\n\nconst Vonage = dynamic(() => import('../../components/vonage'), {\n  ssr: false,\n})\n\nfunction ClassPage() {\n  const router = useRouter()\n  const { user } = useAuth()\n  const [currentGroup, setCurrentGroup] = useState({ id: '', name: '' })\n  const [currentClass, setCurrentClass] = useState({\n    id: '',\n    name: '',\n    groups: [],\n    users: [],\n    role: 'Student',\n  })\n  const [vonageCred, setVonageCred] = useState(null)\n  const { classId } = router.query\n  const plusIcon = <List.Icon name=\"user plus\" size=\"med\" />\n  const noPlusIcon = <div></div>\n\n  const fetchCurrentClass = () => {\n    api\n      .getClass(classId)\n      .then((currentClass) => setCurrentClass(currentClass))\n      .catch(console.error)\n  }\n\n  useEffect(() => {\n    if (!classId) return\n\n    api\n      .getClass(classId)\n      .then((c) => {\n        const userRole = c.users.find((u) => u.id === user.id)\n        if (!userRole) router.push('/calendar')\n\n        setCurrentClass({ ...c, role: userRole.role })\n      })\n      .catch(console.error)\n  }, [classId])\n\n  const handleBack = async () => {\n    await router.push('/calendar')\n  }\n\n  const handleSelectGroup = (group) => {\n    api\n      .postGroupToken(classId, group.id)\n      .then(({ token }) => {\n        setVonageCred(null)\n        setVonageCred({ sessionId: group.sessionId, token })\n      })\n      .catch(console.error)\n  }\n\n  const handleJoinTA = (group) => {\n    handleSelectGroup(group)\n    setCurrentGroup(group)\n  }\n\n  function getButtonToDisplay() {\n    return currentClass.role === 'Student' ? (\n      <CreateGroupModal onCreate={handleCreateGroup} />\n    ) : (\n      <ModifyDiscussionModal onCreate={handleCreateGroup} />\n    )\n  }\n\n  function leftDisplay() {\n    return currentClass.role === 'Student' ? (\n      <div style={{ height: '100%', marginLeft: '2.5%' }}>\n        <Button.Group\n          size=\"huge\"\n          style={{ marginBottom: 12, width: '100%' }}\n          fluid\n        >\n          <Button\n            compact\n            icon=\"angle left\"\n            content={currentClass.name}\n            style={{\n              fontSize: '1.5vw',\n              textAlign: 'left',\n              width: '75%',\n              marginBottom: '2%',\n              minWidth: '41px',\n            }}\n            onClick={handleBack}\n          />\n          <Button\n            compact\n            icon=\"setting\"\n            style={{\n              fontSize: '1.5vw',\n              textAlign: 'center',\n              width: '15%',\n              marginBottom: '2%',\n              minWidth: '14px',\n            }}\n          />\n        </Button.Group>\n        {showOffice()}\n        <Accordion\n          fluid\n          exclusive={false}\n          defaultActiveIndex={[0, 1]}\n          style={{\n            fontSize: '1vw',\n            textAlign: 'left',\n            width: '100%',\n            marginBottom: '2%',\n            minWidth: '41px',\n          }}\n          panels={[\n            {\n              key: 'discussions',\n              title: 'Discussions',\n              content: {\n                content: (\n                  <div style={{ paddingLeft: 20 }}>\n                    <List relaxed selection>\n                      {currentClass.groups\n                        .filter((group) => group.type === 'discussion')\n                        .map((group) => (\n                          <List.Item\n                            key={`discussion_${group.id}`}\n                            onClick={() => {\n                              if (currentGroup.id !== group.id) {\n                                handleSelectGroup(group)\n                                setCurrentGroup(group)\n                              }\n                            }}\n                            style={\n                              currentGroup.id == group.id &&\n                              vonageCred !== null\n                                ? clickedGroupsStyle\n                                : unClickedGroupsStyle\n                            }\n                          >\n                            <List.Icon name=\"sound\" />\n                            <List.Content>\n                              <List.Header as=\"a\">{group.name}</List.Header>\n                            </List.Content>\n                            {showInviteButton(group)}\n                          </List.Item>\n                        ))}\n                    </List>\n                  </div>\n                ),\n              },\n            },\n            {\n              key: 'private-groups',\n              title: 'Private Groups',\n              content: {\n                content: (\n                  <div style={{ paddingLeft: 20 }}>\n                    <List relaxed selection>\n                      {currentClass.groups\n                        .filter((group) => group.type === 'group')\n                        .map((group) => (\n                          <List.Item\n                            key={`private_group_${group.id}`}\n                            onClick={() => {\n                              if (currentGroup.id !== group.id) {\n                                handleSelectGroup(group)\n                                setCurrentGroup(group)\n                              }\n                            }}\n                            style={\n                              currentGroup.id == group.id &&\n                              vonageCred !== null\n                                ? clickedGroupsStyle\n                                : unClickedGroupsStyle\n                            }\n                          >\n                            <List.Icon name=\"lock\" />\n                            <List.Content>\n                              <List.Header as=\"a\">{group.name}</List.Header>\n                            </List.Content>\n                            {showInviteButton(group)}\n                          </List.Item>\n                        ))}\n                    </List>\n                  </div>\n                ),\n              },\n            },\n          ]}\n        />\n        <div\n          style={{\n            position: 'absolute',\n            width: 'calc(100% - 38px)',\n            bottom: 14,\n          }}\n        >\n          {getButtonToDisplay()}\n        </div>\n      </div>\n    ) : (\n      <div style={{ height: '100%', marginLeft: '2.5%' }}>\n        <Button.Group\n          size=\"huge\"\n          style={{ marginBottom: 12, width: '100%' }}\n          fluid\n        >\n          <Button\n            compact\n            icon=\"angle left\"\n            content={currentClass.name}\n            style={{\n              fontSize: '1.5vw',\n              textAlign: 'left',\n              width: '75%',\n              marginBottom: '2%',\n              minWidth: '41px',\n            }}\n            onClick={handleBack}\n          />\n          <Button\n            compact\n            icon=\"setting\"\n            style={{\n              fontSize: '1.5vw',\n              textAlign: 'center',\n              width: '15%',\n              marginBottom: '2%',\n              minWidth: '14px',\n            }}\n          />\n        </Button.Group>\n        {showOffice()}\n        <Accordion\n          fluid\n          exclusive={false}\n          defaultActiveIndex={[0, 1]}\n          style={{\n            fontSize: '1vw',\n            textAlign: 'left',\n            width: '100%',\n            marginBottom: '2%',\n            minWidth: '41px',\n          }}\n          panels={[\n            {\n              key: 'discussions',\n              title: 'Discussions',\n              content: {\n                content: (\n                  <div style={{ paddingLeft: 20 }}>\n                    <List relaxed selection>\n                      {currentClass.groups\n                        .filter((group) => group.type === 'discussion')\n                        .map((group) => (\n                          <List.Item\n                            key={`discussion_${group.id}`}\n                            onClick={() => {\n                              if (currentGroup.id !== group.id) {\n                                handleSelectGroup(group)\n                                setCurrentGroup(group)\n                              }\n                            }}\n                            style={\n                              currentGroup.id == group.id &&\n                              vonageCred !== null\n                                ? clickedGroupsStyle\n                                : unClickedGroupsStyle\n                            }\n                          >\n                            <List.Icon name=\"sound\" />\n                            <List.Content>\n                              <List.Header as=\"a\">{group.name}</List.Header>\n                            </List.Content>\n                            {showInviteButton(group)}\n                            <Button icon>\n                              <Icon name = 'delete' color = 'red'/>\n                            </Button>\n                          </List.Item>\n                        ))}\n                    </List>\n                  </div>\n                ),\n              },\n            },\n            {\n              key: 'private-groups',\n              title: 'Private Groups',\n              content: {\n                content: (\n                  <div style={{ paddingLeft: 20 }}>\n                    <List relaxed selection>\n                      {currentClass.groups\n                        .filter((group) => group.type === 'group')\n                        .map((group) => (\n                          <List.Item\n                            key={`private_group_${group.id}`}\n                            onClick={() => {\n                              if (currentGroup.id !== group.id) {\n                                handleSelectGroup(group)\n                                setCurrentGroup(group)\n                              }\n                            }}\n                            style={\n                              currentGroup.id == group.id &&\n                              vonageCred !== null\n                                ? clickedGroupsStyle\n                                : unClickedGroupsStyle\n                            }\n                          >\n                            <List.Icon name=\"lock\" />\n                            <List.Content>\n                              <List.Header as=\"a\">{group.name}</List.Header>\n                            </List.Content>\n                            {showInviteButton(group)}\n                          </List.Item>\n                        ))}\n                    </List>\n                  </div>\n                ),\n              },\n            },\n          ]}\n        />\n        <div\n          style={{\n            position: 'absolute',\n            width: 'calc(100% - 38px)',\n            bottom: 14,\n          }}\n        >\n          {getButtonToDisplay()}\n        </div>\n      </div>\n    )\n  }\n\n  function showOffice() {\n    return (\n      (currentClass.role !== 'Student' || currentGroup.type === 'office') && (\n        <div style={{ paddingLeft: 20 }}>\n          <List relaxed selection>\n            {currentClass.groups\n              .filter((group) => group.type === 'office')\n              .map((group) => (\n                <List.Item\n                  key={`office`}\n                  onClick={() => {\n                    if (currentGroup.id !== group.id) {\n                      handleSelectGroup(group)\n                      setCurrentGroup(group)\n                    }\n                  }}\n                  style={\n                    currentGroup.id == group.id && vonageCred !== null\n                      ? clickedGroupsStyle\n                      : unClickedGroupsStyle\n                  }\n                >\n                  <List.Icon name=\"graduation cap\" />\n                  <List.Content>\n                    <List.Header as=\"a\">TA Office</List.Header>\n                  </List.Content>\n                  {showInviteButton(group)}\n                </List.Item>\n              ))}\n          </List>\n        </div>\n      )\n    )\n  }\n\n  const handleCreateGroup = async (group) => {\n    await api.postGroup(classId, group.name, group.type)\n\n    fetchCurrentClass()\n  }\n\n  function showInviteButton(group) {\n    return currentGroup.id == group.id && vonageCred !== null\n      ? plusIcon\n      : noPlusIcon\n  }\n\n  return (\n    <Layout\n      left={ leftDisplay()\n        /*<div style={{ height: '100%', marginLeft: '2.5%' }}>\n          <Button.Group\n            size=\"huge\"\n            style={{ marginBottom: 12, width: '100%' }}\n            fluid\n          >\n            <Button\n              compact\n              icon=\"angle left\"\n              content={currentClass.name}\n              style={{\n                fontSize: '1.5vw',\n                textAlign: 'left',\n                width: '75%',\n                marginBottom: '2%',\n                minWidth: '41px',\n              }}\n              onClick={handleBack}\n            />\n            <Button\n              compact\n              icon=\"setting\"\n              style={{\n                fontSize: '1.5vw',\n                textAlign: 'center',\n                width: '15%',\n                marginBottom: '2%',\n                minWidth: '14px',\n              }}\n            />\n          </Button.Group>\n          {showOffice()}\n          <Accordion\n            fluid\n            exclusive={false}\n            defaultActiveIndex={[0, 1]}\n            style={{\n              fontSize: '1vw',\n              textAlign: 'left',\n              width: '100%',\n              marginBottom: '2%',\n              minWidth: '41px',\n            }}\n            panels={[\n              {\n                key: 'discussions',\n                title: 'Discussions',\n                content: {\n                  content: (\n                    <div style={{ paddingLeft: 20 }}>\n                      <List relaxed selection>\n                        {currentClass.groups\n                          .filter((group) => group.type === 'discussion')\n                          .map((group) => (\n                            <List.Item\n                              key={`discussion_${group.id}`}\n                              onClick={() => {\n                                if (currentGroup.id !== group.id) {\n                                  handleSelectGroup(group)\n                                  setCurrentGroup(group)\n                                }\n                              }}\n                              style={\n                                currentGroup.id == group.id &&\n                                vonageCred !== null\n                                  ? clickedGroupsStyle\n                                  : unClickedGroupsStyle\n                              }\n                            >\n                              <List.Icon name=\"sound\" />\n                              <List.Content>\n                                <List.Header as=\"a\">{group.name}</List.Header>\n                              </List.Content>\n                              {showInviteButton(group)}\n                            </List.Item>\n                          ))}\n                      </List>\n                    </div>\n                  ),\n                },\n              },\n              {\n                key: 'private-groups',\n                title: 'Private Groups',\n                content: {\n                  content: (\n                    <div style={{ paddingLeft: 20 }}>\n                      <List relaxed selection>\n                        {currentClass.groups\n                          .filter((group) => group.type === 'group')\n                          .map((group) => (\n                            <List.Item\n                              key={`private_group_${group.id}`}\n                              onClick={() => {\n                                if (currentGroup.id !== group.id) {\n                                  handleSelectGroup(group)\n                                  setCurrentGroup(group)\n                                }\n                              }}\n                              style={\n                                currentGroup.id == group.id &&\n                                vonageCred !== null\n                                  ? clickedGroupsStyle\n                                  : unClickedGroupsStyle\n                              }\n                            >\n                              <List.Icon name=\"lock\" />\n                              <List.Content>\n                                <List.Header as=\"a\">{group.name}</List.Header>\n                              </List.Content>\n                              {showInviteButton(group)}\n                            </List.Item>\n                          ))}\n                      </List>\n                    </div>\n                  ),\n                },\n              },\n            ]}\n          />\n          <div\n            style={{\n              position: 'absolute',\n              width: 'calc(100% - 38px)',\n              bottom: 14,\n            }}\n          >\n            {getButtonToDisplay()}\n          </div>\n        </div>*/\n      }\n      right={<Queue onJoin={handleJoinTA} currentGroup={currentGroup} />}\n    >\n      {vonageCred && (\n        <Vonage\n          sessionId={vonageCred.sessionId}\n          token={vonageCred.token}\n          onLeave={() => {\n            setVonageCred(null)\n            setCurrentGroup({ id: '', name: '' })\n          }}\n        />\n      )}\n    </Layout>\n  )\n}\n\nconst unClickedGroupsStyle = {\n  fontSize: '.8vw',\n  textAlign: 'left',\n  width: '75%',\n  marginBottom: '2%',\n  minWidth: '41px',\n}\nconst clickedGroupsStyle = {\n  fontSize: '.8vw',\n  textAlign: 'left',\n  width: '75%',\n  marginBottom: '2%',\n  minWidth: '41px',\n  background: '#e0e1e2',\n  borderRadius: 10,\n  borderWidth: 1,\n  borderColor: '#fff',\n}\n\nexport default AuthRequired(ClassPage)\n"]},"metadata":{},"sourceType":"module"}